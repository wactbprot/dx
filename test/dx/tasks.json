{"total_rows":297,"offset":0,"rows":[
{"id":"cob-cdg-1000t_4038","key":"1000T_4038-ctrl_pfill","value":{"TaskName":"1000T_4038-ctrl_pfill","Comment":"Berechnet die aktuelle Abweichung des p_ist vom p_soll und daraus den setpoint für den flow controller","Action":"@acc","Host":"@host","Port":"@port","Value":"READ?","NoLog":true,"Repeat":"3","FromExchange":{"@target_p_fill":"Filling_Pressure.Value"},"Wait":"100","StopIf":"Filling_Pressure_Ok.Ready","Fallback":{"ToExchange":{"Filling_Pressure_Ok.Ready":false}},"PostProcessing":["var _vec=_x.map(_.extractKeithleyVolt).map(parseFloat),","_res = _.vlStat(_vec),","_mq = '@expansion' == 'Expansion_B' ? 0.03 : 0.095,","_ret = _.calQsp(@target_p_fill, _res.mv / @CONV, _mq);","var _s1 = _ret.sp1 * 5;","var _s2 = _ret.sp2 > 5 ? _ret.sp2 : 0;","var ToExchange={","'Filling_Pressure_Dev.Value':_ret.dp,","'Filling_Pressure_Ok.Ready':_ret.pfill_ok,","'SE1_Flow_Ctrl.Bool': typeof _ret.sp1 =='number' && typeof _ret.sp2 =='number',","'SE1_Low_Flow_Ctrl_SP.Value':_s1,","'SE1_High_Flow_Ctrl_SP.Value':_s2","};"],"Defaults":{"@acc":"TCP","@host":"e75444","@port":1394,"@Pwait":"200","@NP":"20","@CONV":"0.0075006"}}},
{"id":"cob-cdg-1000t_4038","key":"1000T_4038-exec","value":{"TaskName":"1000T_4038-exec","Comment":"Messung cdg1000","LogPriority":"3","Action":"@acc","Repeat":"@NP","Wait":"@Pwait","Host":"@host","Port":"@port","DocPath":"@docpath","Value":"READ?","PostProcessing":[" var LogData ={'x':_x};","var _vec=_x.map(_.extractKeithleyVolt).map(parseFloat),","_res = _.vlStat(_.checkNumArr(_vec).Arr);","var Result=[_.vlRes('@token',_res.mv,'V', '',_res.sd, _res.N)];","var ToExchange={'@exchangepath.Caption':'@exchangepath','@exchangepath.Type':'@token','@exchangepath.Value':_res.mv / @CONV,'@exchangepath.SdValue':_res.sd / @CONV,'@exchangepath.N':_res.N,'@exchangepath.Unit':'mbar'};"],"Defaults":{"@acc":"TCP","@host":"e75444","@port":1394,"@Pwait":"200","@NP":"20","@CONV":"0.0075006"}}},
{"id":"cob-cdg-1000t_4038","key":"1000T_4038-init","value":{"TaskName":"1000T_4038-init","Comment":"Initialisiert Channel 203","LogPriority":"3","Action":"@acc","Host":"@host","Port":"@port","Value":"*RST;FUNC 'VOLT',(@203);ROUT:CLOS (@203);*OPC?","PostProcessing":["ok = (_x == 1)?true:false;"],"Defaults":{"@acc":"TCP","@host":"e75444","@port":1394,"@Pwait":"200","@NP":"20","@CONV":"0.0075006"}}},
{"id":"cob-cdg-100t_4037","key":"100T_4037-ctrl_pfill","value":{"TaskName":"100T_4037-ctrl_pfill","Comment":"Berechnet die aktuelle Abweichung des p_ist vom p_soll und daraus den setpoint für den flow controller","Action":"@acc","Host":"@host","Port":"@port","Value":"READ?","NoLog":true,"Repeat":"3","FromExchange":{"@target_p_fill":"Filling_Pressure.Value"},"Wait":"100","StopIf":"Filling_Pressure_Ok.Ready","Fallback":{"ToExchange":{"Filling_Pressure_Ok.Ready":false}},"PostProcessing":["var _vec=_x.map(_.extractKeithleyVolt).map(parseFloat),","_res = _.vlStat(_vec),","_mq = '@expansion' == 'Expansion_B' ? 0.03 : 0.095,","_ret = _.calQsp(@target_p_fill, _res.mv / @CONV, _mq);","var _s1 = _ret.sp1 * 5;","var _s2 = _ret.sp2 > 5 ? _ret.sp2 : 0;","var ToExchange={","'Filling_Pressure_Dev.Value':_ret.dp,","'Filling_Pressure_Ok.Ready':_ret.pfill_ok,","'SE1_Flow_Ctrl.Bool': typeof _ret.sp1 =='number' && typeof _ret.sp2 =='number',","'SE1_Low_Flow_Ctrl_SP.Value':_s1,","'SE1_High_Flow_Ctrl_SP.Value':_s2","};"],"Defaults":{"@acc":"TCP","@host":"e75444","@port":1394,"@Pwait":"200","@NP":"20","@CONV":"0.075006"}}},
{"id":"cob-cdg-100t_4037","key":"100T_4037-exec","value":{"TaskName":"100T_4037-exec","Comment":"Messung cdg100","LogPriority":"3","Action":"@acc","Repeat":"@NP","Wait":"@Pwait","Host":"@host","Port":"@port","DocPath":"@docpath","Value":"READ?","PostProcessing":[" var LogData ={'x':_x};","var _vec=_x.map(_.extractKeithleyVolt).map(parseFloat),","_res = _.vlStat(_.checkNumArr(_vec).Arr);","var Result=[_.vlRes('@token',_res.mv,'V', '',_res.sd, _res.N)];","var ToExchange={'@exchangepath.Caption':'@exchangepath','@exchangepath.Type':'@token','@exchangepath.Value':_res.mv / @CONV,'@exchangepath.SdValue':_res.sd / @CONV,'@exchangepath.N':_res.N,'@exchangepath.Unit':'mbar'};"],"Defaults":{"@acc":"TCP","@host":"e75444","@port":1394,"@Pwait":"200","@NP":"20","@CONV":"0.075006"}}},
{"id":"cob-cdg-100t_4037","key":"100T_4037-init","value":{"TaskName":"100T_4037-init","Comment":"Initialisiert Channel 202","LogPriority":"3","Action":"@acc","Host":"@host","Port":"@port","Value":"*RST;FUNC 'VOLT',(@202);ROUT:CLOS (@202);*OPC?","PostProcessing":["ok = (_x == 1)?true:false;"],"Defaults":{"@acc":"TCP","@host":"e75444","@port":1394,"@Pwait":"200","@NP":"20","@CONV":"0.075006"}}},
{"id":"cob-cdg-10t_4036","key":"10T_4036-ctrl_pfill","value":{"TaskName":"10T_4036-ctrl_pfill","Comment":"Berechnet die aktuelle Abweichung des p_ist vom p_soll und daraus den setpoint für den flow controller","Action":"@acc","Host":"@host","Port":"@port","Value":"READ?","NoLog":true,"Repeat":"3","FromExchange":{"@expansion":"Expansion.Value","@target_p_fill":"Filling_Pressure.Value"},"Wait":"100","StopIf":"Filling_Pressure_Ok.Ready","Fallback":{"ToExchange":{"Filling_Pressure_Ok.Ready":false}},"PostProcessing":["var _vec=_x.map(_.extractKeithleyVolt).map(parseFloat),","_res = _.vlStat(_vec),","_mq = '@expansion' == 'Expansion_B' ? 0.03 : 0.095,","_ret = _.calQsp(@target_p_fill, _res.mv / @CONV, _mq);","var _s1 = _ret.sp1 * 5;","var _s2 = _ret.sp2 > 5 ? _ret.sp2 : 0;","var ToExchange={","'Filling_Pressure_Dev.Value':_ret.dp,","'Filling_Pressure_Ok.Ready':_ret.pfill_ok,","'SE1_Flow_Ctrl.Bool': typeof _ret.sp1 =='number' && typeof _ret.sp2 =='number',","'SE1_Low_Flow_Ctrl_SP.Value':_s1,","'SE1_High_Flow_Ctrl_SP.Value':_s2","};"],"Defaults":{"@acc":"TCP","@host":"e75444","@port":1394,"@Pwait":"200","@NP":"20","@CONV":"0.75006"}}},
{"id":"cob-cdg-10t_4036","key":"10T_4036-exec","value":{"TaskName":"10T_4036-exec","Comment":"Messung cdg10","LogPriority":"3","Action":"@acc","Repeat":"@NP","Wait":"@Pwait","Host":"@host","Port":"@port","DocPath":"@docpath","Value":"READ?","PostProcessing":[" var LogData ={'x':_x};","var _vec=_x.map(_.extractKeithleyVolt).map(parseFloat),","_res = _.vlStat(_.checkNumArr(_vec).Arr);","var Result=[_.vlRes('@token',_res.mv,'V', '',_res.sd, _res.N)];","var ToExchange={'@exchangepath.Caption':'@exchangepath','@exchangepath.Type':'@token','@exchangepath.Value':_res.mv / @CONV,'@exchangepath.SdValue':_res.sd / @CONV,'@exchangepath.N':_res.N,'@exchangepath.Unit':'mbar'};"],"Defaults":{"@acc":"TCP","@host":"e75444","@port":1394,"@Pwait":"200","@NP":"20","@CONV":"0.75006"}}},
{"id":"cob-cdg-10t_4036","key":"10T_4036-init","value":{"TaskName":"10T_4036-init","Comment":"Initialisiert Channel 201","LogPriority":"3","Action":"@acc","Host":"@host","Port":"@port","Value":"*RST;FUNC 'VOLT',(@201);ROUT:CLOS (@201);*OPC?","PostProcessing":["ok = (_x == 1)?true:false;"],"Defaults":{"@acc":"TCP","@host":"e75444","@port":1394,"@Pwait":"200","@NP":"20","@CONV":"0.75006"}}},
{"id":"aob-ctrl-bo_ce3","key":"BO_CE3-device_ini","value":{"TaskName":"BO_CE3-device_ini","Comment":"Initialisiert das Gerät, R0 und R1 zu","Action":"@acc","Host":"@host","Port":"@port","Value":"init@CR","PostProcessing":["var _ok = parseInt(_x, 10) > 0,","ToExchange={\"@exchpath\":_ok};"],"Defaults":{"@host":"192.168.98.134","@port":"9009","@CR":"\n","@acc":"TCP"}}},
{"id":"aob-ctrl-bo_ce3","key":"BO_CE3-get_info","value":{"TaskName":"BO_CE3-get_info","Comment":"Temperatur-, Zeit-, Leistungsinfos ","Action":"@acc","Host":"@host","Port":"@port","Values":{"target":"target_temp@CR","current":"current_temp@CR","heatpower":"heatpower@CR"},"PostProcessing":["var _val = parseFloat(_x),","ToExchange={\"@exchpath\":{\"Value\":_val}};"],"Defaults":{"@host":"192.168.98.134","@port":"9009","@CR":"\n","@acc":"TCP"}}},
{"id":"cob-cdg-nd_se3","key":"CDG_ND_SE3-ind","value":{"TaskName":"CDG_ND_SE3-ind","Action":"TCP","Host":"@host","Port":1234,"DocPath":"Calibration.Measurement.Values.Pressure","Value":"++addr @addr\n++auto 0\n:meas:func\n++auto 1\n","Repeat":"25","Wait":"1000","PostProcessing":["var _last = _x.length - 1;","_x = _x.slice(4,_last);","_t_start = _t_start.slice(4,_last);","_t_stop = _t_stop.slice(4,_last);","var _vec=_x.map(_.extractMKSCDG).map(parseFloat),","_res = _.vlStat(_.checkNumArr(_vec).Arr),","Result=[_.vlRes('nd_ind',_res.mv,'@unit', '',_res.sd, _res.N)];"],"Defaults":{"@host":"192.168.98.205","@unit":"mbar","@addr":"13"}}},
{"id":"cob-cdg-nd_se3","key":"CDG_ND_SE3-offset","value":{"TaskName":"CDG_ND_SE3-offset","Action":"TCP","Host":"@host","Port":1234,"DocPath":"Calibration.Measurement.Values.Pressure","Value":"++addr @addr\n++auto 0\n:meas:func\n++auto 1\n","Repeat":"25","Wait":"1000","PostProcessing":["var _last = _x.length - 1;","_x = _x.slice(4,_last);","_t_start = _t_start.slice(4,_last);","_t_stop = _t_stop.slice(4,_last);","var _vec=_x.map(_.extractMKSCDG).map(parseFloat),","_res = _.vlStat(_.checkNumArr(_vec).Arr),","Result=[_.vlRes('nd_offset',_res.mv,'@unit', '',_res.sd, _res.N)];"],"Defaults":{"@host":"192.168.98.205","@unit":"mbar","@addr":"13"}}},
{"id":"cob-ig-ce3_axtran","key":"CE3_Axtran-is_ready","value":{"TaskName":"CE3_Axtran-is_ready","Comment":"Testet ob das Gerät ansprechbar ist","Action":"@acc","Host":"@host","Device":"@device","LogPriority":"3","Value":"PCS1@CR","Fallback":{"ToExchange":{"@exchpath":false}},"PostProcessing":["var ok = _x == 0,","ToExchange={'@exchpath':ok};"],"Defaults":{"@host":"e75481","@device":"gpib0,2","@unit":"mbar","@CR":"\\r","@waittime":"1000","@repeat":"10","@acc":"VXI11","@token":"pn","@docpath":"Calibration.Measurement.Values.Drift","@exchpath":"CE3_SIG.Value.value"}}},
{"id":"cob-ig-ce3_axtran","key":"CE3_Axtran-read_out","value":{"TaskName":"CE3_Axtran-read_out","Comment":"Druckauslese","Action":"@acc","Host":"@host","Device":"@device","LogPriority":"3","DocPath":"@docpath","lockDevice":false,"Value":"DSIG1@CR","Repeat":"@repeat","Wait":"@waittime","Fallback":{"Result":[{"Type":"@token","Value":null,"Unit":"@unit"},{"Type":"sd_@token","Value":null,"Unit":"@unit"},{"Type":"N_@token","Value":null,"Unit":"@unit"}],"ToExchange":{"@exchpath.Value":null,"@exchpath.Unit":"@unit","@exchpath.Type":"@token"}},"PostProcessing":["var _vec=_x.map(parseFloat),","RawData =_x,","_res = _.vlStat(_.checkNumArr(_vec).Arr),","Result=[_.vlRes('@token',_res.mv,'@unit'),","_.vlRes('sd_@token',_res.sd,'@unit'),","_.vlRes('N_@token',_res.N,'1')],","ToExchange={","'@exchpath.Value':_res.mv,","'@exchpath.Unit':'@unit',","'@exchpath.Type':'@token'","};"],"Defaults":{"@host":"e75481","@device":"gpib0,2","@unit":"mbar","@CR":"\\r","@waittime":"1000","@repeat":"10","@acc":"VXI11","@token":"pn","@docpath":"Calibration.Measurement.Values.Drift","@exchpath":"CE3_SIG.Value.value"}}},
{"id":"mpd-ce3-calib","key":"CE3_CMP-cal_analysis","value":{"Action":"EXECUTE","Comment":"calculates the calibration analysis","TaskName":"CE3_CMP-cal_analysis","FromExchange":{"@ids":"Ids"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/ce3/cal_analysis.py --db vl_db_work --ids @ids -s -u'","PostProcessing":["var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-ce3-cmp_calib","key":"CE3_CMP-cal_analysis","value":{"Action":"EXECUTE","Comment":"calculates the calibration analysis","TaskName":"CE3_CMP-cal_analysis","FromExchange":{"@ids":"Ids"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/ce3/cal_analysis.py --db vl_db_work --ids @ids -s -u'","PostProcessing":["var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-ce3-calib","key":"CE3_CMP-cal_pcal","value":{"Action":"EXECUTE","Cmd":"/usr/bin/Rscript /usr/local/share/vlr/scripts/ce3.calibration_pressure.r %ids%","Comment":"Calculates the calibration pressure for all selected calibration documents.","TaskName":"CE3_CMP-cal_pcal","FromExchange":{"%ids%":"Ids"}}},
{"id":"mpd-ce3-cmp_calib","key":"CE3_CMP-cal_pcal","value":{"Action":"EXECUTE","Cmd":"/usr/bin/Rscript /usr/local/share/vlr/scripts/ce3.calibration_pressure.r %ids%","Comment":"Calculates the calibration pressure for all selected calibration documents.","TaskName":"CE3_CMP-cal_pcal","FromExchange":{"%ids%":"Ids"}}},
{"id":"mpd-ce3-calib","key":"CE3_CMP-cal_pfill","value":{"Action":"EXECUTE","Cmd":"/usr/bin/Rscript /usr/local/share/vlr/scripts/ce3.filling_pressure.r @targetpressure @targetunit","Comment":"Calculates pfill from pcal","TaskName":"CE3_CMP-cal_pfill","FromExchange":{"@targetpressure":"Target_pressure.Selected","@targetunit":"Target_pressure.Unit"},"PostProcessing":["var ToExchange = {\"Filling_pressure\":{\"Value\": parseFloat(_x),\"Unit\":\"mbar\"}};"]}},
{"id":"mpd-ce3-cmp_calib","key":"CE3_CMP-cal_pfill","value":{"Action":"EXECUTE","Cmd":"/usr/bin/Rscript /usr/local/share/vlr/scripts/ce3.filling_pressure.r @targetpressure @targetunit","Comment":"Calculates pfill from pcal","TaskName":"CE3_CMP-cal_pfill","FromExchange":{"@targetpressure":"Target_pressure.Selected","@targetunit":"Target_pressure.Unit"},"PostProcessing":["var ToExchange = {\"Filling_pressure\":{\"Value\": parseFloat(_x),\"Unit\":\"mbar\"}};"]}},
{"id":"mpd-ce3-calib","key":"CE3_CMP-cal_sz_param","value":{"Action":"EXECUTE","Cmd":"/usr/bin/Rscript /usr/local/share/vlr/scripts/fm3.sz_param.r @targetpressure @fillingpressure @pressuredecr %readouttime% %driftwaittime%","Comment":"Calculates the saw tooth parameters.","TaskName":"CE3_CMP-cal_sz_param","FromExchange":{"@targetpressure":"Target_pressure.Selected","@fillingpressure":"Filling_pressure.Value","@pressuredecr":"Pressure_decr.Value","%readouttime%":"Time_readout.Value","%driftwaittime%":"Time_wait.Value"},"PostProcessing":["var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-ce3-cmp_calib","key":"CE3_CMP-cal_sz_param","value":{"Action":"EXECUTE","Cmd":"/usr/bin/Rscript /usr/local/share/vlr/scripts/fm3.sz_param.r @targetpressure @fillingpressure @pressuredecr %readouttime% %driftwaittime%","Comment":"Calculates the saw tooth parameters.","TaskName":"CE3_CMP-cal_sz_param","FromExchange":{"@targetpressure":"Target_pressure.Selected","@fillingpressure":"Filling_pressure.Value","@pressuredecr":"Pressure_decr.Value","%readouttime%":"Time_readout.Value","%driftwaittime%":"Time_wait.Value"},"PostProcessing":["var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-ce3-calib","key":"CE3_CMP-devproxy_save_opx","value":{"Action":"DevProxy","Comment":"Save operation kind.","TaskName":"CE3_CMP-devproxy_save_opx","RequestPath":"save_opx","Value":{"DocPath":"Calibration.Measurement.AuxValues.OperationKind"}}},
{"id":"mpd-ce3-cmp_calib","key":"CE3_CMP-devproxy_save_opx","value":{"Action":"DevProxy","Comment":"Save operation kind.","TaskName":"CE3_CMP-devproxy_save_opx","RequestPath":"save_opx","Value":{"DocPath":"Calibration.Measurement.AuxValues.OperationKind"}}},
{"id":"mpd-ce3-calib","key":"CE3_CMP-devproxy_save_port","value":{"Action":"DevProxy","Comment":"Save calibration Port.","TaskName":"CE3_CMP-devproxy_save_port","RequestPath":"save_port","Value":{"DocPath":"Calibration.Measurement.AuxValues.CalPort"}}},
{"id":"mpd-ce3-cmp_calib","key":"CE3_CMP-devproxy_save_port","value":{"Action":"DevProxy","Comment":"Save calibration Port.","TaskName":"CE3_CMP-devproxy_save_port","RequestPath":"save_port","Value":{"DocPath":"Calibration.Measurement.AuxValues.CalPort"}}},
{"id":"cob-ig-ce3_sig","key":"CE3_SIG-is_ready","value":{"TaskName":"CE3_SIG-is_ready","Comment":"Testet ob das Gerät ansprechbar ist","Action":"@acc","Host":"@host","Device":"@device","LogPriority":"3","Value":"PCS1@CR","Fallback":{"ToExchange":{"@exchpath":false}},"PostProcessing":["var ok = _x == 0,","ToExchange={'@exchpath':ok};"],"Defaults":{"@host":"e75481","@device":"gpib0,2","@unit":"mbar","@CR":"\\r","@waittime":"1000","@repeat":"10","@acc":"VXI11","@token":"pn","@docpath":"Calibration.Measurement.Values.Drift","@exchpath":"CE3_SIG.Value.value"}}},
{"id":"cob-ig-ce3_sig","key":"CE3_SIG-read_out","value":{"TaskName":"CE3_SIG-read_out","Comment":"Druckauslese","Action":"@acc","Host":"@host","Device":"@device","LogPriority":"3","DocPath":"@docpath","lockDevice":false,"Value":"DSIG1@CR","Repeat":"@repeat","Wait":"@waittime","Fallback":{"Result":[{"Type":"@token","Value":null,"Unit":"@unit"},{"Type":"sd_@token","Value":null,"Unit":"@unit"},{"Type":"N_@token","Value":null,"Unit":"@unit"}],"ToExchange":{"@exchpath.Value":null,"@exchpath.Unit":"@unit","@exchpath.Type":"@token"}},"PostProcessing":["var _vec=_x.map(parseFloat),","RawData =_x,","_res = _.vlStat(_.checkNumArr(_vec).Arr),","Result=[_.vlRes('@token',_res.mv,'@unit'),","_.vlRes('sd_@token',_res.sd,'@unit'),","_.vlRes('N_@token',_res.N,'1')],","ToExchange={","'@exchpath.Value':_res.mv,","'@exchpath.Unit':'@unit',","'@exchpath.Type':'@token'","};"],"Defaults":{"@host":"e75481","@device":"gpib0,2","@unit":"mbar","@CR":"\\r","@waittime":"1000","@repeat":"10","@acc":"VXI11","@token":"pn","@docpath":"Calibration.Measurement.Values.Drift","@exchpath":"CE3_SIG.Value.value"}}},
{"id":"aob-comb-ce3_combi","key":"Combi_CE3-is_ready","value":{"TaskName":"Combi_CE3-is_ready","Comment":"Testet ob das Gerät ansprechbar ist","Action":"@acc","Host":"@host","Device":"@device","termChar":13,"Repeat":4,"Wait":300,"LogPriority":"3","Value":"STS R@CR","Fallback":{"ToExchange":{"@exchpath":false}},"PostProcessing":["var ok = _x[3].substr(1,3) == 'STS' || _x[2].substr(1,3) == 'STS '|| _x[1].substr(1,3) == 'STS',","ToExchange={'@exchpath':ok};"],"Defaults":{"@host":"e75481","@device":"gpib0,13","@acc":"VXI11","@CR":"\\r","@wait":300,"@repeat":10,"@unit":"mbar"}}},
{"id":"aob-comb-ce3_combi","key":"Combi_CE3-read_out","value":{"TaskName":"Combi_CE3-read_out","Comment":"Geräteauslese","Action":"@acc","Host":"@host","Device":"@device","termChar":13,"Repeat":"@repeat","lockDevice":false,"Wait":"@wait","LogPriority":"3","Fallback":{"Result":[{"Type":"@token","Value":null,"Unit":"@unit"},{"Type":"sd_@token","Value":null,"Unit":"@unit"},{"Type":"N_@token","Value":null,"Unit":"@unit"}],"ToExchange":{"@exchpath.Value":null,"@exchpath.Unit":"@unit","@exchpath.Type":"@token"}},"Values":{"thermovac1":"MSC W1@CR","thermovac2":"MSC W2@CR","penning":"MSC W3@CR"},"Value":"MSC W1@CR","PostProcessing":["var _vec=_x.slice(2).map(_.extractCombi),","nArr = _.checkNumArr(_vec).Arr,","_res = _.vlStat(nArr),","temp=_res,","Result=[_.vlRes('@token',_res.mv,'mbar', '', _res.sd, _res.N)],","ToExchange={'@exchpath.Type':'@token',","'@exchpath.Value':_res.mv,","'@exchpath.Unit':'mbar' };"],"Defaults":{"@host":"e75481","@device":"gpib0,13","@acc":"VXI11","@CR":"\\r","@wait":300,"@repeat":10,"@unit":"mbar"}}},
{"id":"mpd-commons","key":"Common-anselm_get_cal_ids","value":{"Action":"Anselm","Comment":"Get calibration ids from Anselm api","TaskName":"Common-anselm_get_cal_ids","RequestPath":"cal_ids","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-anselm_get_dut_max","value":{"Action":"Anselm","Comment":"Get maximum pressure for each dut branch in the current configuration.","TaskName":"Common-anselm_get_dut_max","RequestPath":"dut_max","FromExchange":{"@target_pressure":"Target_pressure.Selected","@target_unit":"Target_pressure.Unit"},"Value":{"DocPath":"Calibration.Measurement.Values.Position","Target_pressure_value":"@target_pressure","Target_pressure_unit":"@target_unit"},"Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-anselm_get_next_target_pressure","value":{"Action":"Anselm","Comment":"Get next target pressure.","TaskName":"Common-anselm_get_next_target_pressure","RequestPath":"target_pressure","Value":{"DocPath":"Calibration.Measurement.Values.Pressure"},"Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-anselm_get_target_pressures","value":{"Action":"Anselm","Comment":"Get a select structure (object) of target pressures merged from current todos","TaskName":"Common-anselm_get_target_pressures","RequestPath":"target_pressures","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-anselm_ind","value":{"Action":"Anselm","Comment":"Executes the initialisation and measurement of the indication.","TaskName":"Common-anselm_ind","RequestPath":"ind","FromExchange":{"@target_pressure":"Target_pressure.Selected","@target_unit":"Target_pressure.Unit"},"Value":{"Target_pressure_value":"@target_pressure","Target_pressure_unit":"@target_unit"},"Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-anselm_offset","value":{"Action":"Anselm","Comment":"Executes the initialisation and measurement of the offset.","TaskName":"Common-anselm_offset","RequestPath":"offset","FromExchange":{"@target_pressure":"Target_pressure.Selected","@target_unit":"Target_pressure.Unit"},"Value":{"Target_pressure_value":"@target_pressure","Target_pressure_unit":"@target_unit"},"Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-anselm_offset_sequences","value":{"Action":"Anselm","Comment":"Starts the offset sequence for saving offset samples.","TaskName":"Common-anselm_offset_sequences","RequestPath":"offset_sequences","Value":{"DocPath":"Calibration.Measurement.AuxValues.Pressure"},"Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-anselm_save_dut","value":{"Action":"Anselm","Comment":"Save name of dut branch for all devices.","TaskName":"Common-anselm_save_dut","RequestPath":"save_dut_branch","Value":{"DocPath":"Calibration.Measurement.AuxValues.Branch"},"Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-anselm_save_gas","value":{"Action":"Anselm","Comment":"Save name of gas.","TaskName":"Common-anselm_save_gas","RequestPath":"save_gas","Value":{"DocPath":"Calibration.Measurement.AuxValues.Gas"},"Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-anselm_save_maintainer","value":{"Action":"Anselm","Comment":"Save name of maintainer.","TaskName":"Common-anselm_save_maintainer","RequestPath":"save_maintainer","Value":{"DocPath":"Calibration.Measurement.Maintainer"},"Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-db_info","value":{"Action":"checkDB","Comment":"Checks the availibility and other params of the database and writes it to @dbinfo.","TaskName":"Common-db_info","ExchangePath":"@dbinfo","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-db_replicate","value":{"Action":"replicateDB","Comment":"Replicates from the source db: @sourcedb to the target db: @targetdb.","SourceDB":"@sourcedb","TargetDB":"@targetdb","TaskName":"Common-db_replicate","ExchangePath":"Replication_Result","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-exchange_element","value":{"Action":"writeExchange","Comment":"Add an element to the Exchange api","TaskName":"Common-exchange_element","ExchangePath":"@devicename-@elemtype","Value":{"Ready":false,"Caption":"@caption","Type":"@elemtype","Unit":"@unit","Value":null,"Comment":""},"Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-exchange_value","value":{"Action":"writeExchange","Comment":"Add a value to the Exchange api","TaskName":"Common-exchange_value","ExchangePath":"@exchpath","Value":"@value","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-gen_state_doc","value":{"Action":"genDbDoc","Comment":"Generates a state document in which the results are stored.","TaskName":"Common-gen_state_doc","Value":{"_id":"state-se3_@year@month@day","State":{"Measurement":{"Date":[{"Type":"generated","Value":"@year-@month-@day @hour:@minute:@second"}],"AuxValues":{},"Values":{}}}},"Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-get_date","value":{"TaskName":"Common-get_date","Action":"getDate","Comment":"Saves a date string (path: @docpath)","DocPath":"@docpath","Type":"@type","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-get_list","value":{"Action":"getList","Comment":"Requests a database _list and writes the result to exchange/@exchangepath.","TaskName":"Common-get_list","ViewName":"@viewname","ListName":"@listname","Params":{"documents":{"key":"\"@standard-@year\""},"todo":{"keys":"@cdids"}},"Param":{"key":"\"some_value\""},"ExchangePath":"@exchangepath","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-get_time","value":{"TaskName":"Common-get_time","Action":"getTime","Comment":"Saves a timestamp (path: @docpath).","DocPath":"@docpath","ExchangePath":"@timepath","Type":"@type","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-message","value":{"Action":"message","Comment":"Writes a message to the container message channel.","TaskName":"Common-message","Message":"@message","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-mon_mp","value":{"Action":"runMp","Comment":"Monitors (restarts after completed) the container with the title: @conttitle of @mpdef.","TaskName":"Common-mon_mp","Cmd":"mon","Container":"@container","ContainerTitle":"@conttitle","Mp":"@mpdef","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-read_element","value":{"Action":"readExchange","Comment":"Reads the values under the given exchange point.","TaskName":"Common-read_element","DocPath":"@docpath","RunIf":"@devicename-@runif","ExchangePath":"@devicename-@elemtype","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-relay_info","value":{"Action":"checkRelay","Comment":"Checks the availibility and other params of the node relay server and writes it to @relayinfo","TaskName":"Common-relay_info","ExchangePath":"@relayinfo","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-reset_bool","value":{"Action":"writeExchange","Comment":"resets a Bool Element","TaskName":"Common-reset_bool","ExchangePath":"@exchpath","Value":{"Bool":false},"Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-reset_ready","value":{"Action":"writeExchange","Comment":"Resets a Ready Element.","TaskName":"Common-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false},"Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-rm_db_docs","value":{"Action":"rmDbDocs","Comment":"Removes the active documents.","TaskName":"Common-rm_db_docs","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-run_mp","value":{"Action":"runMp","Comment":"Runs container with the title: @conttitle of @mpdef. ","TaskName":"Common-run_mp","Container":"@container","ContainerTitle":"@conttitle","Mp":"@mpdef","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-select_definition","value":{"Action":"select","Comment":"Selects a definition and runs it.","TaskName":"Common-select_definition","DefinitionClass":"@definitionclass","Break":"@break","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-simple_read_element","value":{"Action":"readExchange","Comment":"Reads values under the given exchange path.","TaskName":"Common-simple_read_element","DocPath":"@docpath","ExchangePath":"@exchpath","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-stop_mp","value":{"Action":"stopMp","Comment":"Stops the container with title: @conttitle of @mpdef depending on the value of: @exchpath.","TaskName":"Common-stop_mp","Container":"@container","OnlyIfNot":"@exchpath","ContainerTitle":"@conttitle","Mp":"@mpdef","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-update_cd","value":{"Action":"updateCd","Comment":"Updates all the loaded documents","TaskName":"Common-update_cd","ViewName":"parts","ListName":"up","RunIf":"DocumentsOk.Ready","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-wait","value":{"Action":"wait","Comment":"@waitfor  @waittime ms","TaskName":"Common-wait","WaitTime":"@waittime","Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"mpd-commons","key":"Common-write_element","value":{"Action":"writeExchange","Comment":"Add an element to the Exchange api.","TaskName":"Common-write_element","ExchangePaths":{"doc_table":"DocumentsTable","doc_ok":"DocumentsOk"},"Values":{"doc_table":{"Caption":"Select one or more calibration doc(s)"},"doc_ok":{"Caption":"All calibration documents selected","Ready":false}},"Defaults":{"@waittime":1000,"@waitfor":"Ready in","@waitunit":"ms","@timepath":"Time","@docpath":"","@dbinfo":"db_info","@relayinfo":"relay_info","@sourcedb":"vl_db_work","@targetdb":"vl_db","@unit":"mbar","@break":"no"}}},
{"id":"aob-ctrl-corvus_1","key":"Corvus_1-check_position","value":{"TaskName":"Corvus_1-check_position","Comment":"LW in startpos?","Action":"TCP","Host":"@host","Port":"@port","Timeout":"10000","Value":" pos@CR","PostProcessing":["var _pos_kl = _.extractCorvusArray(_x)[1];","var _pos_gr = _.extractCorvusArray(_x)[0];","ToExchange={","\"LW_gr_startpos.Bool\":(_pos_gr < 0.01 && _pos_gr > -0.01),","\"LW_kl_startpos.Bool\":(_pos_kl < 0.01 && _pos_kl > -0.01),","\"LW_gr_endpos.Bool\":(_pos_gr < 0.01 + @rot && _pos_gr > -0.01 + @rot),","\"LW_kl_endpos.Bool\":(_pos_kl < 0.01 + @rot && _pos_kl > -0.01 + @rot)","};"],"Defaults":{"@host":"e75491","@port":"10003","@CR":"\r","@rot":8}}},
{"id":"aob-ctrl-corvus_1","key":"Corvus_1-exec","value":{"TaskName":"Corvus_1-exec","Comment":"Verfährt Schrittmotoren","Action":"TCP","Host":"@host","Port":"@port","RunIf":"@runif","Values":{"open_grLW":"clean@CR1.2 sv@CR0.0 @rot 0.0 r@CR1 getpitch@CR","close_grLW":"clean@CR1.2 sv@CR0.0 -@rot 0.0 r@CR1 getpitch@CR","open_klLW":"clean@CR1.2 sv@CR0.0 0.0 @rot r@CR1 getpitch@CR","close_klLW":"clean@CR1.2 sv@CR0.0 0.0 -@rot r@CR1 getpitch@CR"},"PostProcessing":["ToExchange={\"@exchpath\":\"ok\"};"],"Defaults":{"@host":"e75491","@port":"10003","@CR":"\r","@rot":8}}},
{"id":"aob-ctrl-corvus_1","key":"Corvus_1-is_ready","value":{"TaskName":"Corvus_1-is_ready","Comment":"Testet status des Geräts","Action":"TCP","Host":"@host","Port":"@port","Value":"status@CR","PostProcessing":["var val = parseInt(_x,10);","var ToExchange={\"@exchpath\":{\"Bool\": val == 0}};"],"Defaults":{"@host":"e75491","@port":"10003","@CR":"\r","@rot":8}}},
{"id":"aob-ctrl-corvus_2","key":"Corvus_2-close_dvg","value":{"TaskName":"Corvus_2-close_dvg","Comment":"Schließt dvg","Action":"TCP","Host":"@host","Port":"@port","Value":"clear@CR1.2 sv@CR0.0 -@rot 0.0 r@CR0.0 0.0 0.0 r@CRpos@CR","RunIf":"DVG_Open.Bool","PostProcessing":["var _pos_dvg = _.extractCorvusArray(_x)[0];","var ToExchange={\"DVG_Pos\":{\"Value\":_pos_dvg }};"],"Defaults":{"@host":"e75491","@port":"10001","@CR":"\n","@rot":"8.0"}}},
{"id":"aob-ctrl-corvus_2","key":"Corvus_2-displacer_exec","value":{"TaskName":"Corvus_2-displacer_exec","Comment":"Verfährt Verdränger um @rot Umdrehungen","Action":"TCP","Host":"@host","Port":"@port","Values":{"displacer_in":"clear@CR0.8 sv@CR0.0 0.0 -@rot r@CR0.0 0.0 0.0 r@CRpos@CR","displacer_out":"clear@CR0.8 sv@CR0.0 0.0 @rot r@CR0.0 0.0 0.0 r@CRpos@CR"},"PostProcessing":["var _pos_displacer =_.extractCorvusArray(_x)[1];","var ToExchange = {\"Displacer_pos\":{\"Value\": _pos_displacer }};"],"Defaults":{"@host":"e75491","@port":"10001","@CR":"\n","@rot":"8.0"}}},
{"id":"aob-ctrl-corvus_2","key":"Corvus_2-displacer_sz_exec","value":{"TaskName":"Corvus_2-displacer_sz_exec","Comment":"Verfährt Verdränger","Action":"TCP","Host":"@host","Port":"@port","FromExchange":{"@szrot":"Displacer_single.Value"},"Values":{"displacer_in":"clear@CR0.8 sv@CR0.0 0.0 -@szrot r@CR0.0 0.0 0.0 r@CRpos@CR","displacer_out":"clear@CR0.8 sv@CR0.0 0.0 @szrot r@CR0.0 0.0 0.0 r@CRpos@CR"},"PostProcessing":["var _pos_displacer =_.extractCorvusArray(_x)[1];","var ToExchange = {\"Displacer_pos\":{\"Value\": _pos_displacer }};"],"Defaults":{"@host":"e75491","@port":"10001","@CR":"\n","@rot":"8.0"}}},
{"id":"aob-ctrl-corvus_2","key":"Corvus_2-displacer_sz_position","value":{"TaskName":"Corvus_2-displacer_sz_position","Comment":"Speichert position","Action":"TCP","Host":"@host","Port":"@port","FromExchange":{"@token":"Time-start_sz.Value"},"DocPath":"Calibration.Measurement.AuxValues.C_@token","Value":"pos@CR","PostProcessing":["var _pos_displacer = _.extractCorvusArray(_x)[1];","var Result = [_.vlRes(\"turn\", _pos_displacer, \"turn\")];"],"Defaults":{"@host":"e75491","@port":"10001","@CR":"\n","@rot":"8.0"}}},
{"id":"aob-ctrl-corvus_2","key":"Corvus_2-dvg_position","value":{"TaskName":"Corvus_2-dvg_position","Comment":"Wertet Schrittmortor-stellungen","Action":"TCP","Host":"@host","Port":"@port","Value":"pos@CR","PostProcessing":["var _pos_dvg =_.extractCorvusArray(_x)[0];","var ToExchange={","\"DVG_Open\":{\"Bool\":(_pos_dvg > @rot - 0.01)},","\"DVG_Closed\":{\"Bool\":(_pos_dvg < 0.01 && _pos_dvg > -0.01)}};"],"Defaults":{"@host":"e75491","@port":"10001","@CR":"\n","@rot":"8.0"}}},
{"id":"aob-ctrl-corvus_2","key":"Corvus_2-is_ready","value":{"TaskName":"Corvus_2-is_ready","Comment":"Testet status des Geräts","Action":"TCP","Host":"@host","Port":"@port","Value":"status@CR","PostProcessing":["var val = parseInt(_x,10);","var ToExchange={\"@exchpath\":{\"Bool\": val == 0}};"],"Defaults":{"@host":"e75491","@port":"10001","@CR":"\n","@rot":"8.0"}}},
{"id":"aob-ctrl-corvus_2","key":"Corvus_2-open_dvg","value":{"TaskName":"Corvus_2-open_dvg","Comment":"Öffnet dvg","Action":"TCP","Host":"@host","Port":"@port","Value":"clear@CR1.2 sv@CR0.0 @rot 0.0 r@CR0.0 0.0 0.0 r@CRpos@CR","RunIf":"DVG_Closed.Bool","PostProcessing":["var _pos_dvg = _.extractCorvusArray(_x)[0];","var ToExchange={\"DVG_Pos\":{\"Value\":_pos_dvg }};"],"Defaults":{"@host":"e75491","@port":"10001","@CR":"\n","@rot":"8.0"}}},
{"id":"std-dcf77","key":"DCF77-exec","value":{"TaskName":"DCF77-exec","Comment":"Auslese","Action":"@acc","Host":"@host","Port":"@port","DocPath":"Measurement.Values.Time","Value":"?","PostProcessing":["var _t=_.extractDcf77(_x),","Result=[_.vlRes('start',''+_t_start,'ms'),","_.vlRes('stop',''+_t_stop,'ms'),","_.vlRes('dcf77',_t == null ? null:''+_t,'ms')","];"],"Defaults":{"@host":"e75491","@port":"10004","@acc":"TCP"}}},
{"id":"mpd-dkm_ppc4-calib","key":"DKM_PPC4_calib-reset_ready","value":{"Action":"writeExchange","Comment":"resets a ready Element","TaskName":"DKM_PPC4_calib-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false}}},
{"id":"mpd-dkm_ppc4_cmp-calib","key":"DKM_PPC4_calib-reset_ready","value":{"Action":"writeExchange","Comment":"resets a ready Element","TaskName":"DKM_PPC4_calib-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false}}},
{"id":"mpd-dkm_ppc4-calib","key":"DKM_PPC4_calib-run_container","value":{"Action":"ctrlContainer","Comment":"Starts ini Container","TaskName":"DKM_PPC4_calib-run_container","RunIf":"DocumentsOk.Ready","Value":{"1":"load","2":"load","3":"load"}}},
{"id":"cob-dmm-dkm_ppc4","key":"DKM_PPC4_DMM-read_temp","value":{"TaskName":"DKM_PPC4_DMM-read_temp","Comment":"VXI-Kommunikation:","Action":"@acc","Host":"@host","LogPriority":"3","DocPath":"@docpath","Port":"@port","Value":"dkm()@CR","Fallback":{"Result":[{"Type":"dkmppc4","Unit":"C","Value":null,"SdValue":null,"N":null}]},"PostProcessing":["var _mv= parseFloat(_x.split(',')[0]);","var _sd= parseFloat(_x.split(',')[1]);","var _n= parseFloat(_x.split(',')[2]);","Result=[_.vlRes('dkmppc4',_mv,'C','',_sd, _n)];"],"Defaults":{"@acc":"TCP","@host":"e75496","@port":"5025","@docpath":"Calibration.Measurement.Values.Temperature","@CR":"\n"}}},
{"id":"std-f250","key":"F250-temperature_exec","value":{"TaskName":"F250-temperature_exec","Comment":"Auslese des Temperaturnormals.","Action":"VXI11","Host":"@host","Device":"@device","VxiTimeout":0,"Repeat":"10","Wait":"3000","Fallback":[{"Type":"f250","Value":null,"Unit":"C","Comment":"","SdValue":null,"N":null}],"Value":"T\n","DocPath":"@docpath","PostProcessing":["var _vec=_x.map(_.extractF250),","_res = _.vlStat(_.checkNumArr(_vec).Arr),","temp=_res,","Result=[_.vlRes('f250',_res.mv,'C','',_res.sd,_res.N)];"],"Defaults":{"@host":"e75482","@device":"gpib0,2","@docpath":"Calibration.Measurement.Values.Temperature"}}},
{"id":"std-f250","key":"F250-temperature_init","value":{"TaskName":"F250-temperature_init","Comment":"Initializes channel A","Action":"VXI11","Host":"@host","Device":"@device","VxiTimeout":0,"Value":"P0\n","PostProcessing":["ok=true;"],"Defaults":{"@host":"e75482","@device":"gpib0,2","@docpath":"Calibration.Measurement.Values.Temperature"}}},
{"id":"cob-cdg-fm3_1000mbar_283893","key":"FM3_1000mbar-check_V11","value":{"TaskName":"FM3_1000mbar-check_V11","Comment":"Check if V11 can be opened. It can be opened if the pressure is lower than 12mbar","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:meas:func\r++auto 1\r","Repeat":"5","Wait":"500","PostProcessing":["var _vec=_x.map(_.extractMKSCDG).map(parseFloat);","var _res = _.vlStat(_.checkNumArr(_vec).Arr);","var ToExchange={\"V11_ok\":{\"Bool\": _res.mv < 12}};"],"Defaults":{"@host":"e75487","@addr":"9","@port":1234,"@unt":"mbar","@acc":"TCP","@docpath":"Calibration.Measurement.Values.Pressure","@repeat":20,"@waittime":1000,"@token":"fill","@unit":"mbar"}}},
{"id":"cob-cdg-fm3_1000mbar_283893","key":"FM3_1000mbar-ctrl_pfill_cmp","value":{"TaskName":"FM3_1000mbar-ctrl_pfill_cmp","Comment":"Berechnet die aktuelle Abweichung des p_ist vom p_soll und daraus den setpoint für den flow controller","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:meas:func\r++auto 1\r","Repeat":"3","FromExchange":{"%target_p_fill%":"Filling_pressure.Value","%target_p_fill_unit%":"Filling_pressure.Unit"},"Wait":"100","StopIf":"Filling_pressure_ok.Ready","PostScript":"mks670.ctrl","PostScriptInput":{"Max_dev":0.005,"Pressure_target":{"Value":"%target_p_fill%","Unit":"%target_p_fill_unit%"}},"Defaults":{"@host":"e75487","@addr":"9","@port":1234,"@unt":"mbar","@acc":"TCP","@docpath":"Calibration.Measurement.Values.Pressure","@repeat":20,"@waittime":1000,"@token":"fill","@unit":"mbar"}}},
{"id":"cob-cdg-fm3_1000mbar_283893","key":"FM3_1000mbar-device_ini","value":{"TaskName":"FM3_1000mbar-device_ini","Comment":"Task klammert alle ini-Strings und führt per default die digit Einstellung durch.","Action":"@acc","Host":"@host","Port":"@port","Values":{"unit_mbar":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):puni MBAR\r++srq\r","unit_torr":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):puni TORR\r++srq\r","no_aver":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):aver 1\r++srq\r","high_res":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:digit 5.5\r++srq\r","meas_p":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:func pres\r++srq\r","high_range":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):gain X1\r++srq\r","med_range":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):gain X0.1\r++srq\r","low_range":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):gain X0.01\r++srq\r"},"Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:digit 5.5\r++srq\r","PostProcessing":["var ToExchange={\"@exchpath\":{\"Bool\": _x == null}};"],"Defaults":{"@host":"e75487","@addr":"9","@port":1234,"@unt":"mbar","@acc":"TCP","@docpath":"Calibration.Measurement.Values.Pressure","@repeat":20,"@waittime":1000,"@token":"fill","@unit":"mbar"}}},
{"id":"cob-cdg-fm3_1000mbar_283893","key":"FM3_1000mbar-is_ready","value":{"TaskName":"FM3_1000mbar-is_ready","Comment":"Testet ob das Gerät ansprechbar ist","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r*IDN?\r++auto 1\r","PostProcessing":["var ok = _x == \"MKS INSTRUMENTS INC, MODEL 670, 0, SW Version 1.1\";","var ToExchange={\"@exchpath\":{\"Bool\":ok}};"],"Defaults":{"@host":"e75487","@addr":"9","@port":1234,"@unt":"mbar","@acc":"TCP","@docpath":"Calibration.Measurement.Values.Pressure","@repeat":20,"@waittime":1000,"@token":"fill","@unit":"mbar"}}},
{"id":"cob-cdg-fm3_1000mbar_283893","key":"FM3_1000mbar-read_out","value":{"TaskName":"FM3_1000mbar-read_out","Comment":"Druckauslese; Ergebnisse werden an die exchange Schnittstelle geschrieben (ToExchange). Die ersten 5 Werte werden verworfen.","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:meas:func\r++auto 1\r","Repeat":"@repeat","Wait":"@waittime","PostProcessing":["var _last = _x.length - 1;","var _x = _x.slice(4,_last);","var _t_start = _t_start.slice(4,_last);","var _t_stop = _t_stop.slice(4,_last);","var _vec = _x.map(_.extractMKSCDG).map(parseFloat);","var _res = _.vlStat(_.checkNumArr(_vec).Arr);","var ToExchange={\"@exchpath\":{","\"Value\":_res.mv,","\"SdValue\":_res.sd,","\"N\":_res.N,","\"Unit\":\"@unit\",","\"Type\":\"@token\"","}};"],"Defaults":{"@host":"e75487","@addr":"9","@port":1234,"@unt":"mbar","@acc":"TCP","@docpath":"Calibration.Measurement.Values.Pressure","@repeat":20,"@waittime":1000,"@token":"fill","@unit":"mbar"}}},
{"id":"cob-cdg-fm3_1000mbar_283893","key":"FM3_1000mbar-read_save","value":{"TaskName":"FM3_1000mbar-read_save","Comment":"Druckauslese; Ergebnisse werden als Result (wird gleich gespeichert) zurückgegeben. Die ersten 5 Werte werden verworfen.","Action":"@acc","Host":"@host","Port":"@port","DocPath":"@docpath","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:meas:func\r++auto 1\r","Repeat":"@repeat","Wait":"@waittime","PostProcessing":["var _last = _x.length - 1;","var _x = _x.slice(4,_last);","var _t_start = _t_start.slice(4,_last);","var _t_stop = _t_stop.slice(4,_last);","var _vec=_x.map(_.extractMKSCDG).map(parseFloat);","var _res = _.vlStat(_.checkNumArr(_vec).Arr);","var Result=[_.vlRes(\"@token\",_res.mv,\"@unit\", \"\",_res.sd,_res.N )];","var ToExchange={\"@exchpath\":{","\"Value\":_res.mv,","\"SdValue\":_res.sd,","\"N\":_res.N,","\"Unit\":\"@unit\",","\"Type\":\"@token\"","}};"],"Defaults":{"@host":"e75487","@addr":"9","@port":1234,"@unt":"mbar","@acc":"TCP","@docpath":"Calibration.Measurement.Values.Pressure","@repeat":20,"@waittime":1000,"@token":"fill","@unit":"mbar"}}},
{"id":"cob-cdg-fm3_1000T","key":"FM3_1000T-check_V11","value":{"TaskName":"FM3_1000T-check_V11","Comment":"Check if V11 can be opened. It can be opened if the pressure is lower than 12mbar","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:meas:func\r++auto 1\r","Repeat":"5","Wait":"500","PostProcessing":["var _vec=_x.map(_.extractMKSCDG).map(parseFloat);","var _res = _.vlStat(_.checkNumArr(_vec).Arr);","var ToExchange={\"V11_ok\":{\"Bool\": _res.mv < 12}};"],"Defaults":{"@host":"e75487","@addr":"9","@port":1234,"@unt":"mbar","@acc":"TCP","@docpath":"Calibration.Measurement.Values.Pressure","@repeat":20,"@waittime":1000,"@token":"fill","@unit":"mbar"}}},
{"id":"cob-cdg-fm3_1000T","key":"FM3_1000T-ctrl_pfill_cmp","value":{"TaskName":"FM3_1000T-ctrl_pfill_cmp","Comment":"Berechnet die aktuelle Abweichung des p_ist vom p_soll und daraus den setpoint für den flow controller","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:meas:func\r++auto 1\r","Repeat":"3","FromExchange":{"%target_p_fill%":"Filling_pressure.Value","%target_p_fill_unit%":"Filling_pressure.Unit"},"Wait":"100","StopIf":"Filling_pressure_ok.Ready","PostScript":"mks670.ctrl","PostScriptInput":{"Max_dev":0.005,"Pressure_target":{"Value":"%target_p_fill%","Unit":"%target_p_fill_unit%"}},"Defaults":{"@host":"e75487","@addr":"9","@port":1234,"@unt":"mbar","@acc":"TCP","@docpath":"Calibration.Measurement.Values.Pressure","@repeat":20,"@waittime":1000,"@token":"fill","@unit":"mbar"}}},
{"id":"cob-cdg-fm3_1000T","key":"FM3_1000T-device_ini","value":{"TaskName":"FM3_1000T-device_ini","Comment":"Task klammert alle ini-Strings und führt per default die digit Einstellung durch.","Action":"@acc","Host":"@host","Port":"@port","Values":{"unit_mbar":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):puni MBAR\r++srq\r","unit_torr":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):puni TORR\r++srq\r","no_aver":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):aver 1\r++srq\r","high_res":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:digit 5.5\r++srq\r","meas_p":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:func pres\r++srq\r","high_range":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):gain X1\r++srq\r","med_range":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):gain X0.1\r++srq\r","low_range":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):gain X0.01\r++srq\r"},"Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:digit 5.5\r++srq\r","PostProcessing":["var ToExchange={\"@exchpath\":{\"Bool\": _x == null}};"],"Defaults":{"@host":"e75487","@addr":"9","@port":1234,"@unt":"mbar","@acc":"TCP","@docpath":"Calibration.Measurement.Values.Pressure","@repeat":20,"@waittime":1000,"@token":"fill","@unit":"mbar"}}},
{"id":"cob-cdg-fm3_1000T","key":"FM3_1000T-is_ready","value":{"TaskName":"FM3_1000T-is_ready","Comment":"Testet ob das Gerät ansprechbar ist","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r*IDN?\r++auto 1\r","PostProcessing":["var ok = _x == \"MKS INSTRUMENTS INC, MODEL 670, 0, SW Version 1.1\";","var ToExchange={\"@exchpath\":{\"Bool\":ok}};"],"Defaults":{"@host":"e75487","@addr":"9","@port":1234,"@unt":"mbar","@acc":"TCP","@docpath":"Calibration.Measurement.Values.Pressure","@repeat":20,"@waittime":1000,"@token":"fill","@unit":"mbar"}}},
{"id":"cob-cdg-fm3_1000T","key":"FM3_1000T-read_out","value":{"TaskName":"FM3_1000T-read_out","Comment":"Druckauslese; Ergebnisse werden an die exchange Schnittstelle geschrieben (ToExchange). Die ersten 5 Werte werden verworfen.","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:meas:func\r++auto 1\r","Repeat":"@repeat","Wait":"@waittime","PostProcessing":["var _last = _x.length - 1;","var _x = _x.slice(4,_last);","var _t_start = _t_start.slice(4,_last);","var _t_stop = _t_stop.slice(4,_last);","var _vec = _x.map(_.extractMKSCDG).map(parseFloat);","var _res = _.vlStat(_.checkNumArr(_vec).Arr);","var ToExchange={\"@exchpath\":{","\"Value\":_res.mv,","\"SdValue\":_res.sd,","\"N\":_res.N,","\"Unit\":\"@unit\",","\"Type\":\"@token\"","}};"],"Defaults":{"@host":"e75487","@addr":"9","@port":1234,"@unt":"mbar","@acc":"TCP","@docpath":"Calibration.Measurement.Values.Pressure","@repeat":20,"@waittime":1000,"@token":"fill","@unit":"mbar"}}},
{"id":"cob-cdg-fm3_1000T","key":"FM3_1000T-read_save","value":{"TaskName":"FM3_1000T-read_save","Comment":"Druckauslese; Ergebnisse werden als Result (wird gleich gespeichert) zurückgegeben. Die ersten 5 Werte werden verworfen.","Action":"@acc","Host":"@host","Port":"@port","DocPath":"@docpath","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:meas:func\r++auto 1\r","Repeat":"@repeat","Wait":"@waittime","PostProcessing":["var _last = _x.length - 1;","var _x = _x.slice(4,_last);","var _t_start = _t_start.slice(4,_last);","var _t_stop = _t_stop.slice(4,_last);","var _vec=_x.map(_.extractMKSCDG).map(parseFloat);","var _res = _.vlStat(_.checkNumArr(_vec).Arr);","var Result=[_.vlRes(\"@token\",_res.mv,\"@unit\", \"\",_res.sd,_res.N )];","var ToExchange={\"@exchpath\":{","\"Value\":_res.mv,","\"SdValue\":_res.sd,","\"N\":_res.N,","\"Unit\":\"@unit\",","\"Type\":\"@token\"","}};"],"Defaults":{"@host":"e75487","@addr":"9","@port":1234,"@unt":"mbar","@acc":"TCP","@docpath":"Calibration.Measurement.Values.Pressure","@repeat":20,"@waittime":1000,"@token":"fill","@unit":"mbar"}}},
{"id":"cob-cdg-fm3_10T_018213800","key":"FM3_10T_NEW-check_V10","value":{"TaskName":"FM3_10T_NEW-check_V10","Comment":"Check if V10 can be opened. It can be opened if the pressure is lower than 0.12mbar","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:meas:func\r++auto 1\r","Repeat":"5","Wait":"500","PostProcessing":["var _vec=_x.map(_.extractMKSCDG).map(parseFloat);","var _res = _.vlStat(_.checkNumArr(_vec).Arr);","var ToExchange={\"V10_ok\":{\"Bool\": _res.mv < 0.12}};"],"Defaults":{"@host":"e75487","@addr":"10","@port":1234,"@unt":"mbar","@acc":"TCP","@range":"X1","@token":"fill","@unit":"mbar","@exchpath":"FM3_10T","@repeat":10,"@waittime":1000}}},
{"id":"cob-cdg-fm3_10T_018213800","key":"FM3_10T_NEW-ctrl_pfill_cmp","value":{"TaskName":"FM3_10T_NEW-ctrl_pfill_cmp","Comment":"Berechnet die aktuelle Abweichung des p_ist vom p_soll und darausdes setpoint für den flow controller","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:meas:func\r++auto 1\r","Repeat":"3","FromExchange":{"%target_p_fill%":"Filling_pressure.Value","%target_p_fill_unit%":"Filling_pressure.Unit"},"Wait":"100","StopIf":"Filling_pressure_ok.Ready","PostScript":"mks670.ctrl","PostScriptInput":{"Max_dev":0.005,"Pressure_target":{"Value":"%target_p_fill%","Unit":"%target_p_fill_unit%"}},"Defaults":{"@host":"e75487","@addr":"10","@port":1234,"@unt":"mbar","@acc":"TCP","@range":"X1","@token":"fill","@unit":"mbar","@exchpath":"FM3_10T","@repeat":10,"@waittime":1000}}},
{"id":"cob-cdg-fm3_10T_018213800","key":"FM3_10T_NEW-device_ini","value":{"TaskName":"FM3_10T_NEW-device_ini","Comment":"Task klammert alle ini-Strings und führt per default die digit Einstellung durch.","Action":"@acc","Host":"@host","Port":"@port","Values":{"unit_mbar":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):puni MBAR\r++srq\r","unit_torr":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):puni TORR\r++srq\r","no_aver":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):aver 1\r++srq\r","high_res":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:digit 5.5\r++srq\r","meas_p":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:func pres\r++srq\r","high_range":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):gain X1\r++srq\r","med_range":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):gain X0.1\r++srq\r","low_range":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):gain X0.01\r++srq\r"},"Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:digit 5.5\r++srq\r","PostProcessing":["var ToExchange={\"@exchpath\":{\"Bool\": _x == null}};"],"Defaults":{"@host":"e75487","@addr":"10","@port":1234,"@unt":"mbar","@acc":"TCP","@range":"X1","@token":"fill","@unit":"mbar","@exchpath":"FM3_10T","@repeat":10,"@waittime":1000}}},
{"id":"cob-cdg-fm3_10T_018213800","key":"FM3_10T_NEW-is_ready","value":{"TaskName":"FM3_10T_NEW-is_ready","Comment":"Testet ob das Gerät ansprechbar ist","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r*IDN?\r++auto 1\r","PostProcessing":["var ok = _x == \"MKS INSTRUMENTS INC, MODEL 670, 0, SW Version 1.00\";","var ToExchange={\"@exchpath\":{\"Bool\":ok}};"],"Defaults":{"@host":"e75487","@addr":"10","@port":1234,"@unt":"mbar","@acc":"TCP","@range":"X1","@token":"fill","@unit":"mbar","@exchpath":"FM3_10T","@repeat":10,"@waittime":1000}}},
{"id":"cob-cdg-fm3_10T_018213800","key":"FM3_10T_NEW-read_out","value":{"TaskName":"FM3_10T_NEW-read_out","Comment":"Druckauslese; Ergebnisse werden an die exchange Schnittstelle geschrieben (ToExchange). Die ersten 5 Werte werden verworfen.","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:meas:func\r++auto 1\r","Repeat":"@repeat","Wait":"@waittime","PostProcessing":["var _last = _x.length - 1;","var _x = _x.slice(4,_last);","var _t_start = _t_start.slice(4,_last);","var _t_stop = _t_stop.slice(4,_last);","var _vec = _x.map(_.extractMKSCDG).map(parseFloat);","var _res = _.vlStat(_.checkNumArr(_vec).Arr);","var ToExchange={\"@exchpath\":{","\"Value\":_res.mv,","\"SdValue\":_res.sd,","\"N\":_res.N,","\"Unit\":\"@unit\",","\"Type\":\"@token\"","}};"],"Defaults":{"@host":"e75487","@addr":"10","@port":1234,"@unt":"mbar","@acc":"TCP","@range":"X1","@token":"fill","@unit":"mbar","@exchpath":"FM3_10T","@repeat":10,"@waittime":1000}}},
{"id":"cob-cdg-fm3_10T_018213800","key":"FM3_10T_NEW-read_save","value":{"TaskName":"FM3_10T_NEW-read_save","Comment":"Druckauslese; Ergebnisse werden als Result (wird gleich gespeichert) zurückgegeben. Die ersten 5 Werte werden verworfen.","Action":"@acc","Host":"@host","Port":"@port","DocPath":"@docpath","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:meas:func\r++auto 1\r","Repeat":"@repeat","Wait":"@waittime","PostProcessing":["var _last = _x.length - 1;","var _x = _x.slice(4,_last);","var _t_start = _t_start.slice(4,_last);","var _t_stop = _t_stop.slice(4,_last);","var _vec=_x.map(_.extractMKSCDG).map(parseFloat);","var _res = _.vlStat(_.checkNumArr(_vec).Arr);","var Result=[_.vlRes(\"@token\",_res.mv,\"@unit\", \"\",_res.sd, _res.N)];","var ToExchange={\"@exchpath\":{","\"Value\":_res.mv,","\"SdValue\":_res.sd,","\"N\":_res.N,","\"Unit\":\"@unit\",","\"Type\":\"@token\"","}};"],"Defaults":{"@host":"e75487","@addr":"10","@port":1234,"@unt":"mbar","@acc":"TCP","@range":"X1","@token":"fill","@unit":"mbar","@exchpath":"FM3_10T","@repeat":10,"@waittime":1000}}},
{"id":"cob-cdg-fm3_10T","key":"FM3_10T-ctrl_pfill_cmp","value":{"TaskName":"FM3_10T-ctrl_pfill_cmp","Comment":"Berechnet die aktuelle Abweichung des p_ist vom p_soll und darausdes setpoint für den flow controller","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:meas:func\r++auto 1\r","Repeat":"3","FromExchange":{"%target_p_fill%":"Filling_pressure.Value","%target_p_fill_unit%":"Filling_pressure.Unit"},"Wait":"100","StopIf":"Filling_pressure_ok.Ready","PostScript":"mks670.ctrl","PostScriptInput":{"Max_dev":0.005,"Pressure_target":{"Value":"%target_p_fill%","Unit":"%target_p_fill_unit%"}},"Defaults":{"@host":"e75487","@addr":"10","@port":1234,"@unt":"mbar","@acc":"TCP","@range":"X1","@token":"fill","@unit":"mbar","@exchpath":"FM3_10T","@repeat":10,"@waittime":1000}}},
{"id":"cob-cdg-fm3_10T","key":"FM3_10T-device_ini","value":{"TaskName":"FM3_10T-device_ini","Comment":"Task klammert alle ini-Strings und führt per default die digit Einstellung durch.","Action":"@acc","Host":"@host","Port":"@port","Values":{"unit_mbar":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):puni MBAR\r++srq\r","unit_torr":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):puni TORR\r++srq\r","no_aver":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):aver 1\r++srq\r","high_res":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:digit 5.5\r++srq\r","meas_p":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:func pres\r++srq\r","high_range":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):gain X1\r++srq\r","med_range":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):gain X0.1\r++srq\r","low_range":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:sens:scan(@1):gain X0.01\r++srq\r"},"Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:digit 5.5\r++srq\r","PostProcessing":["var ToExchange={\"@exchpath\":{\"Bool\": _x == null}};"],"Defaults":{"@host":"e75487","@addr":"10","@port":1234,"@unt":"mbar","@acc":"TCP","@range":"X1","@token":"fill","@unit":"mbar","@exchpath":"FM3_10T","@repeat":10,"@waittime":1000}}},
{"id":"cob-cdg-fm3_10T","key":"FM3_10T-is_ready","value":{"TaskName":"FM3_10T-is_ready","Comment":"Testet ob das Gerät ansprechbar ist","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r*IDN?\r++auto 1\r","PostProcessing":["var ok = _x == \"MKS INSTRUMENTS INC, MODEL 670, 0, SW Version 1.00\";","var ToExchange={\"@exchpath\":{\"Bool\":ok}};"],"Defaults":{"@host":"e75487","@addr":"10","@port":1234,"@unt":"mbar","@acc":"TCP","@range":"X1","@token":"fill","@unit":"mbar","@exchpath":"FM3_10T","@repeat":10,"@waittime":1000}}},
{"id":"cob-cdg-fm3_10T","key":"FM3_10T-read_out","value":{"TaskName":"FM3_10T-read_out","Comment":"Druckauslese; Ergebnisse werden an die exchange Schnittstelle geschrieben (ToExchange). Die ersten 5 Werte werden verworfen.","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:meas:func\r++auto 1\r","Repeat":"@repeat","Wait":"@waittime","PostProcessing":["var _last = _x.length - 1;","var _x = _x.slice(4,_last);","var _t_start = _t_start.slice(4,_last);","var _t_stop = _t_stop.slice(4,_last);","var _vec = _x.map(_.extractMKSCDG).map(parseFloat);","var _res = _.vlStat(_.checkNumArr(_vec).Arr);","var ToExchange={\"@exchpath\":{","\"Value\":_res.mv,","\"SdValue\":_res.sd,","\"N\":_res.N,","\"Unit\":\"@unit\",","\"Type\":\"@token\"","}};"],"Defaults":{"@host":"e75487","@addr":"10","@port":1234,"@unt":"mbar","@acc":"TCP","@range":"X1","@token":"fill","@unit":"mbar","@exchpath":"FM3_10T","@repeat":10,"@waittime":1000}}},
{"id":"cob-cdg-fm3_10T","key":"FM3_10T-read_save","value":{"TaskName":"FM3_10T-read_save","Comment":"Druckauslese; Ergebnisse werden als Result (wird gleich gespeichert) zurückgegeben. Die ersten 5 Werte werden verworfen.","Action":"@acc","Host":"@host","Port":"@port","DocPath":"@docpath","Value":"++addr @addr\r++eot_enable 1\r++auto 1\r++eot_char 10\r:meas:func\r++auto 1\r","Repeat":"@repeat","Wait":"@waittime","PostProcessing":["var _last = _x.length - 1;","var _x = _x.slice(4,_last);","var _t_start = _t_start.slice(4,_last);","var _t_stop = _t_stop.slice(4,_last);","var _vec=_x.map(_.extractMKSCDG).map(parseFloat);","var _res = _.vlStat(_.checkNumArr(_vec).Arr);","var Result=[_.vlRes(\"@token\",_res.mv,\"@unit\", \"\",_res.sd, _res.N)];","var ToExchange={\"@exchpath\":{","\"Value\":_res.mv,","\"SdValue\":_res.sd,","\"N\":_res.N,","\"Unit\":\"@unit\",","\"Type\":\"@token\"","}};"],"Defaults":{"@host":"e75487","@addr":"10","@port":1234,"@unt":"mbar","@acc":"TCP","@range":"X1","@token":"fill","@unit":"mbar","@exchpath":"FM3_10T","@repeat":10,"@waittime":1000}}},
{"id":"cob-cdg-fm3_1T","key":"FM3_1T-device_ini","value":{"TaskName":"FM3_1T-device_ini","Comment":"Task klammert alle ini-Strings und führt per default die digit Einstellung durch.","Action":"@acc","Host":"@host","Port":"@port","Values":{"unit_mbar":"@1302\r","no_aver":"@16001\r","high_res":"@1002\r","meas_p":"@0100\r","high_range":"@1700\r","med_range":"@1701\r","low_range":"@1702\r"},"Value":"@1302\r","PostProcessing":["var ToExchange={\"@exchpath\":{\"Bool\":parseInt(_x,10) == 0}};"],"Defaults":{"@host":"e75491","@port":"10004","@unit":"mbar","@waittime":"1000","%driftwaittime%":"900","%driftrepeat%":"100","@repeat":"10","@acc":"TCP","@token":"drift","%driftinfix%":"before","@docpath":"Calibration.Measurement.Values.Drift","@exchpath":"FM3_1T"}}},
{"id":"cob-cdg-fm3_1T","key":"FM3_1T-drift_exec","value":{"TaskName":"FM3_1T-drift_exec","Comment":"Messung der Drift mit %driftwaittime% ms und %driftrepeat% Werten. ","Action":"@acc","Host":"@host","Port":"@port","Value":"@020?\r","Repeat":"%driftrepeat%","Wait":"%driftwaittime%","DocPath":"Calibration.Measurement.Values.Drift","PostScript":"mks670.drift","PostScriptInput":{"Infix":"%driftinfix%","WaitTime":"%driftwaittime%"},"Defaults":{"@host":"e75491","@port":"10004","@unit":"mbar","@waittime":"1000","%driftwaittime%":"900","%driftrepeat%":"100","@repeat":"10","@acc":"TCP","@token":"drift","%driftinfix%":"before","@docpath":"Calibration.Measurement.Values.Drift","@exchpath":"FM3_1T"}}},
{"id":"cob-cdg-fm3_1T","key":"FM3_1T-read_out","value":{"TaskName":"FM3_1T-read_out","Comment":"Druckauslese; Ergebnisse werden an die exchange Schnittstelle geschrieben (ToExchange). ","Action":"@acc","Host":"@host","Port":"@port","Value":"@020?\r","Repeat":"@repeat","Wait":"@waittime","PostProcessing":["var _vec=_x.map(function(s){return s.split(\" \")[1]}).map(parseFloat),","_res = _.vlStat(_.checkNumArr(_vec).Arr),","ToExchange={","\"@exchpath\":{","\"Value\":_res.mv,","\"SdValue\":_res.sd,","\"N\":_res.N,","\"Unit\":\"@unit\",","\"Type\":\"@token\"","}};"],"Defaults":{"@host":"e75491","@port":"10004","@unit":"mbar","@waittime":"1000","%driftwaittime%":"900","%driftrepeat%":"100","@repeat":"10","@acc":"TCP","@token":"drift","%driftinfix%":"before","@docpath":"Calibration.Measurement.Values.Drift","@exchpath":"FM3_1T"}}},
{"id":"cob-cdg-fm3_1T","key":"FM3_1T-read_save","value":{"TaskName":"FM3_1T-read_save","Comment":"Druckauslese; Ergebnisse werden als Result (wird gleich gespeichert) zurückgegeben. ","Action":"@acc","Host":"@host","Port":"@port","DocPath":"@docpath","Value":"@020?\r","Repeat":"@repeat","Wait":"@waittime","PostProcessing":["var _vec=_x.map(function(s){return s.split(\" \")[1]}).map(parseFloat),","_res = _.vlStat(_.checkNumArr(_vec).Arr),","Result=[_.vlRes(\"@token\",_res.mv,\"@unit\",\"\",_res.sd,_res.N)],","ToExchange={","\"@exchpath\":{","\"Value\":_res.mv,","\"SdValue\":_res.sd,","\"N\":_res.N,","\"Unit\":\"@unit\",","\"Type\":\"@token\"","}};"],"Defaults":{"@host":"e75491","@port":"10004","@unit":"mbar","@waittime":"1000","%driftwaittime%":"900","%driftrepeat%":"100","@repeat":"10","@acc":"TCP","@token":"drift","%driftinfix%":"before","@docpath":"Calibration.Measurement.Values.Drift","@exchpath":"FM3_1T"}}},
{"id":"cob-cdg-fm3_1T","key":"FM3_1T-sz_read_out","value":{"TaskName":"FM3_1T-sz_read_out","Comment":"SZ Messung","Action":"@acc","Host":"@host","Port":"@port","Value":"@020?\r","FromExchange":{"@sztok":"Time-start_sz.Value","@szwait":"Time_single.Value","@szrep":"Sz_repeat.Value"},"Repeat":"@szrep","Wait":"@szwait","LogPriority":"3","PostScript":"mks670.saw-tooth","DocPath":"Calibration.Measurement.AuxValues.C_@sztok","Defaults":{"@host":"e75491","@port":"10004","@unit":"mbar","@waittime":"1000","%driftwaittime%":"900","%driftrepeat%":"100","@repeat":"10","@acc":"TCP","@token":"drift","%driftinfix%":"before","@docpath":"Calibration.Measurement.Values.Drift","@exchpath":"FM3_1T"}}},
{"id":"cob-cdg-fm3_1T","key":"FM3_1T-test_sz_read_out","value":{"TaskName":"FM3_1T-test_sz_read_out","Comment":"Test SZ Messung","Action":"@acc","Host":"@host","Port":"@port","Value":"@020?\r","FromExchange":{"@szwait":"Time_wait.Value"},"Repeat":"30","Wait":"@szwait","PostScript":"mks670.test-saw-tooth","Defaults":{"@host":"e75491","@port":"10004","@unit":"mbar","@waittime":"1000","%driftwaittime%":"900","%driftrepeat%":"100","@repeat":"10","@acc":"TCP","@token":"drift","%driftinfix%":"before","@docpath":"Calibration.Measurement.Values.Drift","@exchpath":"FM3_1T"}}},
{"id":"cob-dmm-ce3_agilent","key":"FM3_CE3-DMM_Agilent-device_ini","value":{"TaskName":"FM3_CE3-DMM_Agilent-device_ini","Comment":"Initialisierung des Messgeräts","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\n++eot_enable 1\r++auto 1\r++eot_char 10\rCONF:TEMP FRTD,91,1,MAX,(@101,102,103,104,105,106,107,108,109,110)\nUNIT:TEMP C\n*OPC?\n","PostProcessing":["var ToExchange={\"@exchpath\":{\"Bool\":_x == 1}};"],"Defaults":{"@acc":"TCP","@host":"e75487","@port":1234,"@addr":"5","@repeat":10,"@waittime":3000,"@exchpath":"CE3_Agilent_init_ok","@docpath":"Calibration.Measurement.Values.Temperature"}}},
{"id":"cob-dmm-ce3_agilent","key":"FM3_CE3-DMM_Agilent-is_ready","value":{"TaskName":"FM3_CE3-DMM_Agilent-is_ready","Comment":"Testet ob das Gerät ansprechbar ist","Action":"@acc","Host":"@host","Port":"@port","Value":"++addr @addr\n++eot_enable 1\r++auto 1\r++eot_char 10\r*IDN?\n","PostProcessing":["var ToExchange={\"@exchpath\":{\"Bool\":_x == \"HEWLETT-PACKARD,34970A,0,13-2-2\\n\"}};"],"Defaults":{"@acc":"TCP","@host":"e75487","@port":1234,"@addr":"5","@repeat":10,"@waittime":3000,"@exchpath":"CE3_Agilent_init_ok","@docpath":"Calibration.Measurement.Values.Temperature"}}},
{"id":"cob-dmm-ce3_agilent","key":"FM3_CE3-DMM_Agilent-read_out","value":{"TaskName":"FM3_CE3-DMM_Agilent-read_out","Comment":"VXI-Kommunikation:","Action":"@acc","Host":"@host","Port":"@port","Repeat":"@repeat","Wait":"@waittime","DocPath":"@docpath","PostScript":"daq34970.temperature-scanner-read-out","PostScriptInput":{"Channels":["101","102","103","104","105","106","107","108","109","110"],"Prefix":"@prefix","Suffix":"@sufix"},"Value":"++addr @addr\n++eot_enable 1\r++auto 1\r++eot_char 10\rREAD?\n","Defaults":{"@acc":"TCP","@host":"e75487","@port":1234,"@addr":"5","@repeat":10,"@waittime":3000,"@exchpath":"CE3_Agilent_init_ok","@docpath":"Calibration.Measurement.Values.Temperature"}}},
{"id":"mpd-frs5-cmp_calib","key":"FRS5_Calib-cal_analysis","value":{"Action":"EXECUTE","Comment":"calculates the calibration analysis.","TaskName":"FRS5_Calib-cal_analysis","FromExchange":{"@ids":"Ids"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/frs5/frs5_cal_analysis.py --db vl_db_work --ids @ids -s -u -a'","PostProcessing":["var ret = _x;","var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-frs5-cmp_calib","key":"FRS5_Calib-shape_todo","value":{"Action":"EXECUTE","Comment":"shape todo values to fit the expansion range.","TaskName":"FRS5_Calib-shape_todo","FromExchange":{"@ids":"Ids"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/se3/shape_todo.py --min_pressure 30.0 --max_pressure 10000.0 --pressure_unit Pa  --db vl_db_work --ids @ids -s'","PostProcessing":["var ToExchange = JSON.parse(_x);"]}},
{"id":"cob-dmm-frs5","key":"FRS5_DMM-read_temp","value":{"TaskName":"FRS5_DMM-read_temp","Comment":"VXI-Kommunikation:","Action":"@acc","Host":"@host","LogPriority":"3","DocPath":"@docpath","Port":"@port","Value":"frs()@CR","Fallback":{"Result":[{"Type":"frs5","Unit":"C","Value":null,"SdValue":null,"N":null}]},"PostProcessing":["var _mv= parseFloat(_x.split(',')[0]);","var _sd= parseFloat(_x.split(',')[1]);","var _n= parseFloat(_x.split(',')[2]);","Result=[_.vlRes('frs5',_mv,'C','',_sd, _n)];"],"Defaults":{"@acc":"TCP","@host":"e75496","@port":"5025","@docpath":"Calibration.Measurement.Values.Temperature","@CR":"\n"}}},
{"id":"std-frs5","key":"FRS5-read_out","value":{"TaskName":"FRS5-read_out","Comment":"Auslese Waage ","Action":"TCP","Host":"@host","Port":"@port","Repeat":"@repeat","Wait":"@waittime","Value":"\u001BP","DocPath":"@docpath","PostScript":"frs5.lb-read-out","PostScriptInput":{"Type":"@token"},"PostProcessing":["var _NoOfSkip = 10,","_vec = _x.map(_.extractFRS),","_N = _vec.length,","_redvec = _vec.splice(_NoOfSkip - 1 , _N - 1), ","_res =  _.vlStat(_.checkNumArr(_redvec).Arr),","Result=[","_.vlRes(\"@token\",_res.mv,\"lb\", \"\", _res.sd,_res.N)];","RawData = _x;","ToExchange={","\"@exchpath.Caption\":\"FRS5\",","\"@exchpath.Type\":\"@token\",","\"@exchpath.Value\":_res.mv,","\"@exchpath.SdValue\":_res.sd,","\"@exchpath.N\":_res.N,","\"@exchpath.Unit\":\"lb\"};"],"Defaults":{"@host":"e75491","@port":"10004","@acc":"TCP","@CR":"\r","@repeat":80,"@waittime":500,"@token":"frs_zc0_p","@exchpath":"frs5"}}},
{"id":"aob-dmm-hp_34401a","key":"HP34401A-emission_current","value":{"TaskName":"HP34401A-emission_current","Comment":"Reads out the emmission current.","Action":"@acc","DocPath":"Calibration.Measurement.Values.Current","Repeat":"@repeat","Wait":"@waittime","Host":"@host","Device":"@dev","Value":"READ?","PostProcessing":["var _vec=_x.map(parseFloat),","_res = _.vlStat(_.checkNumArr(_vec).Arr),","Result=[_.vlRes(\"@token\",_res.mv,\"@unit\", \"\",_res.sd, _res.N)];"],"Defaults":{"@host":"e75465","@acc":"VXI11","@dev":"gpib0,22","@repeat":"5","@waittime":"200"}}},
{"id":"aob-dmm-hp_34401a","key":"HP34401A-servo_meas","value":{"TaskName":"HP34401A-servo_meas","Comment":"Tests zu den SE3 Servomotoren.","Action":"@acc","DocPath":"Measurement.Values.AbsVoltTime_@ttok","FromExchange":{"@ttok":"Go_Time.Value"},"StopIf":"Servo_1_Stop.Bool","Host":"@host","Device":"@dev","Value":"READ?","PostProcessing":["var Result=[_.vlRes('abs', parseFloat(_x),'V'),","_.vlRes('time', '' + _t_start,'ms')];"],"Defaults":{"@host":"e75465","@acc":"VXI11","@dev":"gpib0,22","@repeat":"5","@waittime":"200"}}},
{"id":"cob-ig-iivi_laser_itr100_109","key":"IIVI_Laser_ITR100_109-exec","value":{"TaskName":"IIVI_Laser_ITR100_109-exec","Comment":"socket Kommunikation","LogPriority":"3","Action":"TCP","Host":"_host","Port":"_port","Value":"PR1_CR","PostProcessing":["val = _x;"],"Defaults":{"_host":"e75491","_port":"10004","_CR":""}}},
{"id":"cob-ig-iivi_laser_itr100_109","key":"IIVI_Laser_ITR100_109-init","value":{"TaskName":"IIVI_Laser_ITR100_109-init","Comment":"socket Kommunikation","LogPriority":"3","Action":"TCP","Host":"_host","Port":"_port","Value":"ITR_CR","Defaults":{"_host":"e75491","_port":"10004","_CR":""}}},
{"id":"cob-ig-iivi_laser_itr100_181","key":"IIVI_Laser_ITR100_181-exec","value":{"TaskName":"IIVI_Laser_ITR100_181-exec","Comment":"socket Kommunikation","LogPriority":"3","Action":"TCP","Host":"_host","Port":"_port","Value":"PR1_CR","PostProcessing":["val = _x;"],"Defaults":{"_host":"e75491","_port":"10004","_CR":""}}},
{"id":"cob-ig-iivi_laser_itr100_181","key":"IIVI_Laser_ITR100_181-init","value":{"TaskName":"IIVI_Laser_ITR100_181-init","Comment":"socket Kommunikation","LogPriority":"3","Action":"TCP","Host":"_host","Port":"_port","Value":"ITR_CR","Defaults":{"_host":"e75491","_port":"10004","_CR":""}}},
{"id":"cob-ig-iivi_laser_itr100_68454","key":"IIVI_Laser_ITR100_68454-exec","value":{"TaskName":"IIVI_Laser_ITR100_68454-exec","Comment":"socket Kommunikation","LogPriority":"3","Action":"TCP","Host":"_host","Port":"_port","Value":"PR1_CR","PostProcessing":["val = _x;"],"Defaults":{"_host":"e75491","_port":"10004","_CR":""}}},
{"id":"cob-ig-iivi_laser_itr100_68454","key":"IIVI_Laser_ITR100_68454-init","value":{"TaskName":"IIVI_Laser_ITR100_68454-init","Comment":"socket Kommunikation","LogPriority":"3","Action":"TCP","Host":"_host","Port":"_port","Value":"ITR_CR","Defaults":{"_host":"e75491","_port":"10004","_CR":""}}},
{"id":"aob-ctrl-im540","key":"IM540-emi_off","value":{"TaskName":"IM540-emi_off","Comment":"Switches emission off","Action":"@acc","Repeat":5,"Wait":10000,"Host":"@host","Port":"@port","Value":"EMI W0@CR","Defaults":{"@CR":"\r","@host":"e75436","@port":"5303","@acc":"TCP","@docpath":"Measurement.Values.Pressure","@repeat":300,"@waittime":1000,"@lowlimit":5e-8}}},
{"id":"aob-ctrl-im540","key":"IM540-emi_on","value":{"TaskName":"IM540-emi_on","Comment":"Switches emission on","Action":"@acc","Host":"@host","Port":"@port","Repeat":5,"Wait":10000,"Value":"EMI W1@CR","Defaults":{"@CR":"\r","@host":"e75436","@port":"5303","@acc":"TCP","@docpath":"Measurement.Values.Pressure","@repeat":300,"@waittime":1000,"@lowlimit":5e-8}}},
{"id":"aob-ctrl-im540","key":"IM540-pressure_rise","value":{"TaskName":"IM540-pressure_rise","Comment":"Measurement of pressure rise with @repeat points and a wait time of @waittime ms.","Action":"@acc","Host":"@host","Port":"@port","Repeat":"@repeat","DocPath":"@docpath","Wait":"@waittime","Value":"MES R@CR","PostScriptInput":{"Type":"@token"},"PostScript":"im540.pressure-rise","PostProcessing":["var _vec = _x.map(_.extractIm540);","_ret = _.checkNumArr(_vec);","_res = _.vlSlope(_ret.Arr, _.rmByIndex(_t_start,_ret.Skip), _.rmByIndex(_t_stop,_ret.Skip));","var Result=[","_.vlRes('@token_slope_x',  _res.bx,     'mbar/ms'),","_.vlRes('@token_R',        _res.R,      '1'),","_.vlRes('@token_N',        _res.remainN,'1')","];"],"Defaults":{"@CR":"\r","@host":"e75436","@port":"5303","@acc":"TCP","@docpath":"Measurement.Values.Pressure","@repeat":300,"@waittime":1000,"@lowlimit":5e-8}}},
{"id":"aob-ctrl-im540","key":"IM540-read_out","value":{"TaskName":"IM540-read_out","Comment":"Measurement of pressure.","Action":"@acc","Host":"@host","Port":"@port","Repeat":10,"DocPath":"@docpath","Wait":1000,"Value":"MES R@CR","PostScriptInput":{"Type":"@token"},"PostScript":"im540.read-out","PostProcessing":["var _vec = _x.map(_.extractIm540);","_res = _.vlStat(_.checkNumArr(_vec).Arr),","Result=[_.vlRes('@token',_res.mv,'mbar', '', _res.sd, _res.N)],","ToExchange={'@exchpath.Caption':'@token',","'@exchpath.Type':'@token',","'@exchpath.Value':_res.mv, ","'@exchpath.SdValue':_res.sd,","'@exchpath.Unit':'mbar' };"],"Defaults":{"@CR":"\r","@host":"e75436","@port":"5303","@acc":"TCP","@docpath":"Measurement.Values.Pressure","@repeat":300,"@waittime":1000,"@lowlimit":5e-8}}},
{"id":"aob-cdg-inf_modbus","key":"Inficon_Modbus_CDG-compare_ctrl","value":{"TaskName":"Inficon_Modbus_CDG-compare_ctrl","Address":0,"Quantity":125,"FunctionCode":"ReadInputRegisters","OutMode":"Buffer","Action":"@acc","Repeat":3,"Wait":2000,"Host":"@host","StopIf":"Pressure_compare_ok.Bool","FromExchange":{"@pressuretarget":"Pressure_compare.Value"},"PostProcessing":["var _cdg_2 = _.readAnybusGw(_x[2], 1, 12);","var _cdg_0 = _.readAnybusGw(_x[0], 1, 12);","var _pist, _target = parseFloat(@pressuretarget);","if ( _target <= 133000) _pist = ( _cdg_0[9] + _cdg_0[10] + _cdg_0[11]  + _cdg_2[9] + _cdg_2[10] + _cdg_2[11])*100/6;","if ( _target <= 13300) _pist = ( _cdg_0[6] + _cdg_0[7]  + _cdg_0[8]   + _cdg_2[6] + _cdg_2[7]  + _cdg_2[8])*100/6;","if ( _target <= 1330) _pist = ( _cdg_0[3] + _cdg_0[4]  + _cdg_0[5]   + _cdg_2[3] + _cdg_2[4]  + _cdg_2[5])*100/6;","if ( _target <= 133) _pist = ( _cdg_0[0] + _cdg_0[1]  + _cdg_0[2]   + _cdg_2[0] + _cdg_2[1]  + _cdg_2[2])*100/6;","var ToExchange = {'Pressure_compare_check':{'Value':_pist},","'Pressure_compare_ok': {'Bool':(_pist && (_pist < _target * (1 + 0.03)) && (_pist > _target * (1 - 0.005))) ? true : false }","};"],"Defaults":{"@host":"e75480","@acc":"MODBUS","@waittime":1000,"@repeat":40,"@token":"ind","@unit":"mbar","@exchpath":"Inf_ModBus_Cdg","@docpath":"Calibration.Measurement.Values.Pressure"}}},
{"id":"aob-cdg-inf_modbus","key":"Inficon_Modbus_CDG-filling_ctrl","value":{"TaskName":"Inficon_Modbus_CDG-filling_ctrl","Address":0,"Quantity":125,"FunctionCode":"ReadInputRegisters","OutMode":"Buffer","Action":"@acc","Repeat":3,"Wait":2000,"Host":"@host","StopIf":"Pressure_fill_ok.Bool","FromExchange":{"@pressuretarget":"Pressure_fill.Value"},"PostProcessing":["var _cdg_2 = _.readAnybusGw(_x[2], 1, 12);","var _cdg_0 = _.readAnybusGw(_x[0], 1, 12);","var _pist, _target = parseFloat(@pressuretarget);","if ( _target <= 133000) _pist = ( _cdg_0[9] + _cdg_0[10] + _cdg_0[11]  + _cdg_2[9] + _cdg_2[10] + _cdg_2[11])*100/6;","if ( _target <= 13300) _pist = ( _cdg_0[6] + _cdg_0[7]  + _cdg_0[8]   + _cdg_2[6] + _cdg_2[7]  + _cdg_2[8])*100/6;","if ( _target <= 1330) _pist = ( _cdg_0[3] + _cdg_0[4]  + _cdg_0[5]   + _cdg_2[3] + _cdg_2[4]  + _cdg_2[5])*100/6;","if ( _target <= 133) _pist = ( _cdg_0[0] + _cdg_0[1]  + _cdg_0[2]   + _cdg_2[0] + _cdg_2[1]  + _cdg_2[2])*100/6;","var ToExchange = {'Pressure_fill_check':{'Value':_pist},","'Pressure_fill_ok': {'Bool':(_pist && (_pist < _target * (1 + 0.03)) && (_pist > _target * (1 - 0.005))) ? true : false }","};"],"Defaults":{"@host":"e75480","@acc":"MODBUS","@waittime":1000,"@repeat":40,"@token":"ind","@unit":"mbar","@exchpath":"Inf_ModBus_Cdg","@docpath":"Calibration.Measurement.Values.Pressure"}}},
{"id":"aob-cdg-inf_modbus","key":"Inficon_Modbus_CDG-read_out","value":{"TaskName":"Inficon_Modbus_CDG-read_out","Address":0,"Quantity":125,"FunctionCode":"ReadInputRegisters","OutMode":"Buffer","Comment":"Auslese des Geräts: Erklärung: Der Funktion __readPBusCDG__ wird das Ergebnis der Modbus-Profibus-Kommunikation (Buffer) übergeben. Der Parameter __ _pAdr __ ist die Adresse des ersten Messkopfes (default: 1, hier: @padr), __ _cnt __ ist die Anzahl der zu erfragenden Messköpfe (default: 1, hier: @cnt). Bei _cnt=1 wird anstatt eines Arrays ein Einzelwert zurückgegeben.","Action":"@acc","Repeat":"@repeat","Wait":"@waittime","Host":"@host","DocPath":"@docpath","PostScriptInput":{"Prefix":"","Suffix":"-@token","Unit":"Pa"},"PostScript":"gn_se3.anybus-readout","PostProcessing":["var Result=[], ToExchange={};","var _res=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]];","var _n1 = ['1T','1T','1T','10T','10T','10T','100T','100T','100T','1000T','1000T','1000T','5T','50T','500T', 'add'];","var _n2 = ['1','2','3','1','2','3','1','2','3','1','2','3','1','1','1','0'];","for(var _i = 0; _i < _x.length; _i++){","var _acdg = _.readAnybusGw(_x[_i], 1, 16);","for(var _j = 0; _j < _acdg.length; _j++){","_res[_j].push(_acdg[_j]);","}","}","for(var _l = 0; _l < _res.length; _l++){","var _name = [_n1[_l],_n2[_l]].join('_') + '-@token', _enam = 'CDG_' + _name;","var _cdg = _.vlStat(_.checkNumArr(_res[_l]).Arr);","Result.push(_.vlRes(_name, _cdg.mv*100, 'Pa', '', _cdg.sd*100, _cdg.N ));","ToExchange[_enam] ={};","ToExchange[_enam].Type = _name;","ToExchange[_enam].Value = _cdg.mv*100;","ToExchange[_enam].SdValue = _cdg.sd*100;","ToExchange[_enam].N = _cdg.N;","ToExchange[_enam].Unit = 'Pa';","}"],"Defaults":{"@host":"e75480","@acc":"MODBUS","@waittime":1000,"@repeat":40,"@token":"ind","@unit":"mbar","@exchpath":"Inf_ModBus_Cdg","@docpath":"Calibration.Measurement.Values.Pressure"}}},
{"id":"aob-dmm-keithley_617","key":"Keithley_617-read_out","value":{"TaskName":"Keithley_617-read_out","Comment":"voltage read out","Action":"@acc","DocPath":"@docpath","Host":"@host","Repeat":"@rep","Wait":"@wt","Device":"@dev","Value":"\n","PostProcessing":["var _tmp = _x.map(function(i){ return(parseFloat(i.replace('NDCV','')));});","_tmp.shift();","var _resV = _.vlStat(_.checkNumArr(_tmp).Arr),","Result=[_.vlRes('@token',_resV.mv,'V', '', _resV.sd,_resV.N)],","ToExchange={'@exchpath.Caption':'Keithley 617','@exchpath.Type':'@token','@exchpath.Value':_resV.mv,'@exchpath.SdValue':_resV.sd,'@exchpath.N':_resV.N, '@exchpath.Unit':'V' };"],"Defaults":{"@host":"e75481","@acc":"VXI11","@dev":"gpib0,29","@rep":"10","@wt":"1000"}}},
{"id":"aob-dmm-keithley_617","key":"Keithley_617-read_out_agilent_frg730","value":{"TaskName":"Keithley_617-read_out_agilent_frg730","Comment":"readsn out voltage and converts to pressure in mbar","Action":"@acc","DocPath":"@docpath","Host":"@host","Repeat":"@rep","Wait":"@wt","Device":"@dev","Value":"\n","PostProcessing":["var _tmp = _x.map(function(i){ return(parseFloat(i.replace('NDCV','')));});","_tmp.shift();","var _p = _tmp.map(function(u){ return(Math.pow(10,(u-7.75)/0.75))});","var _resp = _.vlStat(_.checkNumArr(_p).Arr),","Result=[_.vlRes('@token',_resp.mv,'V', '', _resp.sd,_resp.N)],","ToExchange={'@exchpath.Caption':'Keithley 617','@exchpath.Type':'@token','@exchpath.Value':_resp.mv,'@exchpath.SdValue':_resp.sd,'@exchpath.N':_resp.N, '@exchpath.Unit':'mbar' };"],"Defaults":{"@host":"e75481","@acc":"VXI11","@dev":"gpib0,29","@rep":"10","@wt":"1000"}}},
{"id":"aob-dmm-keithley_617","key":"Keithley_617-servo_meas","value":{"TaskName":"Keithley_617-servo_meas","Action":"@acc","DocPath":"Measurement.Values.DiffVoltTime_@ttok","FromExchange":{"@ttok":"Go_Time.Value"},"StopIf":"Servo_1_Stop.Bool","Host":"@host","Device":"@dev","Value":"\n","PostProcessing":["var _val = parseFloat(_x.replace('NDCV',''));","Result=[_.vlRes('diff',_val,'V'),","_.vlRes('time', '' + _t_start,'ms')];"],"Defaults":{"@host":"e75481","@acc":"VXI11","@dev":"gpib0,29","@rep":"10","@wt":"1000"}}},
{"id":"aob-dmm-keithley_6517","key":"Keithley_6517-collector_current","value":{"TaskName":"Keithley_6517-collector_current","Comment":"Reads out the collector current.","Action":"@acc","DocPath":"Calibration.Measurement.Values.Current","Repeat":"@repeat","Wait":"@waittime","Host":"@host","Device":"@dev","Value":"READ?","PostProcessing":["var _vec=_x.map(function(x){return x.replace(\"NDCA\",\"\")}).map(parseFloat);","var _ret =_.checkNumArr(_vec);","var _t0 = _.rmByIndex(_t_start,_ret.Skip);","var _t1 = _.rmByIndex(_t_stop,_ret.Skip);","var _res = _.vlStat(_ret.Arr);","var _vls = _.vlSlope(_ret.Arr, _t0, _t1);","var ToExchange={","\"Current_@token\":{\"Value\": _res.mv,","\"Unit\": \"@unit\",","\"Type\": \"@token\"","}};","var Result=[","_.vlRes(\"@token\",_res.mv,\"@unit\", \"\",_res.sd, _res.N),","_.vlRes(\"@token_slope_x\", _vls.bx,\"@unit/ms\"),","_.vlRes(\"@token_mean_i\", _vls.mvY, \"@unit\"),","_.vlRes(\"@token_min_i\", _vls.min, \"@unit\"),","_.vlRes(\"@token_max_i\", _vls.max, \"@unit\"),","_.vlRes(\"@token_mean_t\", \"\"+ _vls.mvX, \"ms\"),","_.vlRes(\"@token_R\", _vls.R, \"1\")","];"],"Defaults":{"@host":"e75465","@acc":"VXI11","@dev":"gpib0,27","@repeat":"5","@waittime":"200"}}},
{"id":"aob-dmm-keithley_199","key":"Keithley-199-read_out","value":{"TaskName":"Keithley-199-read_out","Comment":"voltage read out","Action":"@acc","DocPath":"@docpath","Host":"@host","Repeat":"@rep","Wait":"@wt","Device":"@dev","Value":"\n","PostProcessing":["var _tmp = _x.map(function(i){ return(parseFloat(i.replace('NDCV','')));});","_tmp.shift();","var _resV = _.vlStat(_.checkNumArr(_tmp).Arr),","Result=[_.vlRes('@token',_resV.mv,'V', '', _resV.sd,_resV.N)],","ToExchange={'@exchpath.Caption':'Keithley 617','@exchpath.Type':'@token','@exchpath.Value':_resV.mv,'@exchpath.SdValue':_resV.sd,'@exchpath.N':_resV.N, '@exchpath.Unit':'V' };"],"Defaults":{"@host":"e75465","@acc":"VXI11","@dev":"gpib0,29","@rep":"4","@wt":"250"}}},
{"id":"aob-dmm-keithley_199","key":"Keithley-199-servo_meas","value":{"TaskName":"Keithley-199-servo_meas","Action":"@acc","DocPath":"Measurement.Values.AbsVoltTime_@ttok","FromExchange":{"@ttok":"Go_Time.Value"},"StopIf":"Servo_1_Stop.Bool","Host":"@host","Device":"@dev","Value":"\n","PostProcessing":["var _val = parseFloat(_x.replace('NDCV',''));","Result=[_.vlRes('abs',_val,'V'),","_.vlRes('time', '' + _t_start,'ms')];"],"Defaults":{"@host":"e75465","@acc":"VXI11","@dev":"gpib0,29","@rep":"4","@wt":"250"}}},
{"id":"aob-dmm-keithley_2701_eth","key":"Keitley_2701_ETH-device_init","value":{"TaskName":"Keitley_2701_ETH-device_init","Comment":"Führt Initialisierungen aus","LogPriority":"3","Action":"@acc","Host":"@host","Port":"@port","Values":{"syst":"SYST:PRES;*OPC?@CR","reset":"*RST;*OPC?@CR","trac_cl":"TRAC:CLE;*OPC?@CR","cont_ini_off":"INIT:CONT OFF;*OPC?@CR","trig_imm":"TRIG:SOUR IMM;*OPC?@CR","trig_coun":"TRIG:COUN 1;*OPC?@CR","samp_coun":"SAMP:COUN 12;*OPC?@CR","rout_scan_v":"ROUT:SCAN (@101:112);*OPC?@CR","rout_tso":"ROUT:SCAN:TSO IMM;*OPC?@CR","rout_lsel":"ROUT:SCAN:LSEL INT;*OPC?@CR","trac_ao":"TRAC:CLE:AUTO OFF;*OPC?@CR","func_v":"FUNC 'VOLT', (@101:112);*OPC?@CR"},"PostProcessing":["ok= (_x == 1)?true:false;"],"Defaults":{"@host":"e75444","@port":"1394","@acc":"TCP","@wait":1000,"@repeat":15,"@CR":"\n","@enam":"Pressure_fill_volt","@docpath":"Calibration.Measurement.Values.Pressure","@CONV":"0.75006"}}},
{"id":"aob-dmm-keithley_2701_eth","key":"Keitley_2701_ETH-read_out","value":{"TaskName":"Keitley_2701_ETH-read_out","Comment":"measurement of the 12 filling pressure CDGs","Action":"@acc","Repeat":"@repeat","Wait":"@wait","Host":"@host","Port":"@port","DocPath":"@docpath","Value":"READ?@CR","PostProcessing":["var _ro =_.extractKeithleyPressScan(_x,'(@101:112)'), _res = [], k;","for(k in _ro){","_res.push(_.vlRes('@prefix' + k + '@sufix',_ro[k].mv,'V'))","}","Result=_res;"],"Defaults":{"@host":"e75444","@port":"1394","@acc":"TCP","@wait":1000,"@repeat":15,"@CR":"\n","@enam":"Pressure_fill_volt","@docpath":"Calibration.Measurement.Values.Pressure","@CONV":"0.75006"}}},
{"id":"aob-dmm-keithley_2701_eth","key":"Keitley_2701_ETH-read_out_single","value":{"TaskName":"Keitley_2701_ETH-read_out_single","Comment":"singel volt measurement","Action":"@acc","Host":"@host","Port":"@port","DocPath":"@docpath","Value":"READ?@CR","PostProcessing":["var _val=parseFloat(_.extractKeithleyVolt(_x));","var Result=[_.vlRes('@token',_val,'V')];"],"Defaults":{"@host":"e75444","@port":"1394","@acc":"TCP","@wait":1000,"@repeat":15,"@CR":"\n","@enam":"Pressure_fill_volt","@docpath":"Calibration.Measurement.Values.Pressure","@CONV":"0.75006"}}},
{"id":"aob-comp-maxigauge","key":"MaxiGauge-dkm_res_ini","value":{"TaskName":"MaxiGauge-dkm_res_ini","Comment":"Initializes DKM gauge readout.","Action":"@acc","Host":"@host","Port":"@port","Value":"PR4\r","Defaults":{"@CR":"\r","@host":"e75443","@port":"5303","@acc":"TCP","@docpath":"Measurement.Values.Pressure","@repeat":24,"@waittime":10000,"@lowlimit":5e-8}}},
{"id":"aob-comp-maxigauge","key":"MaxiGauge-dkm_res_read_out","value":{"TaskName":"MaxiGauge-dkm_res_read_out","Comment":"Measurement of resuidual pressure","Action":"@acc","Host":"@host","Port":"@port","Repeat":10,"DocPath":"@docpath","Wait":500,"Value":"\u0005@CR","PostProcessing":["var _vec = _x.map(function(_e){return parseFloat(_e.split(',')[1]);});","var _res = _.vlStat(_.checkNumArr(_vec).Arr);","var Result=[_.vlRes(\"dkmppc4_res\",_res.mv,\"mbar\", \"\",_res.sd, _res.N)];"],"Defaults":{"@CR":"\r","@host":"e75443","@port":"5303","@acc":"TCP","@docpath":"Measurement.Values.Pressure","@repeat":24,"@waittime":10000,"@lowlimit":5e-8}}},
{"id":"aob-comp-maxigauge","key":"MaxiGauge-ini","value":{"TaskName":"MaxiGauge-ini","Comment":"Initializes vessel gauge readout","Action":"@acc","Host":"@host","Port":"@port","Value":"PR1@CR","Defaults":{"@CR":"\r","@host":"e75443","@port":"5303","@acc":"TCP","@docpath":"Measurement.Values.Pressure","@repeat":24,"@waittime":10000,"@lowlimit":5e-8}}},
{"id":"aob-cdg-ppc_maxigauge","key":"MaxiGauge-ini1","value":{"TaskName":"MaxiGauge-ini1","Comment":"Initializes readout CDG1","Action":"@acc","Host":"@host","Port":"@port","Value":"PR1@CR","Defaults":{"@CR":"\r","@host":"e75423","@port":8000,"@acc":"TCP","@docpath":"Measurement.Values.Pressure","@repeat":24,"@waittime":10000,"@lowlimit":5e-8}}},
{"id":"aob-cdg-ppc_maxigauge","key":"MaxiGauge-ini2","value":{"TaskName":"MaxiGauge-ini2","Comment":"Initializes readout CDG2","Action":"@acc","Host":"@host","Port":"@port","Value":"PR2@CR","Defaults":{"@CR":"\r","@host":"e75423","@port":8000,"@acc":"TCP","@docpath":"Measurement.Values.Pressure","@repeat":24,"@waittime":10000,"@lowlimit":5e-8}}},
{"id":"aob-cdg-ppc_maxigauge","key":"MaxiGauge-ini3","value":{"TaskName":"MaxiGauge-ini3","Comment":"Initializes readout CDG3","Action":"@acc","Host":"@host","Port":"@port","Value":"PR3@CR","Defaults":{"@CR":"\r","@host":"e75423","@port":8000,"@acc":"TCP","@docpath":"Measurement.Values.Pressure","@repeat":24,"@waittime":10000,"@lowlimit":5e-8}}},
{"id":"aob-cdg-ppc_maxigauge","key":"MaxiGauge-ini4","value":{"TaskName":"MaxiGauge-ini4","Comment":"Initializes readout CDG4","Action":"@acc","Host":"@host","Port":"@port","Value":"PR4@CR","Defaults":{"@CR":"\r","@host":"e75423","@port":8000,"@acc":"TCP","@docpath":"Measurement.Values.Pressure","@repeat":24,"@waittime":10000,"@lowlimit":5e-8}}},
{"id":"aob-cdg-ppc_maxigauge","key":"MaxiGauge-ini5","value":{"TaskName":"MaxiGauge-ini5","Comment":"Initializes readout CDG5","Action":"@acc","Host":"@host","Port":"@port","Value":"PR5@CR","Defaults":{"@CR":"\r","@host":"e75423","@port":8000,"@acc":"TCP","@docpath":"Measurement.Values.Pressure","@repeat":24,"@waittime":10000,"@lowlimit":5e-8}}},
{"id":"aob-cdg-ppc_maxigauge","key":"MaxiGauge-ini6","value":{"TaskName":"MaxiGauge-ini6","Comment":"Initializes readout CDG6","Action":"@acc","Host":"@host","Port":"@port","Value":"PR6@CR","Defaults":{"@CR":"\r","@host":"e75423","@port":8000,"@acc":"TCP","@docpath":"Measurement.Values.Pressure","@repeat":24,"@waittime":10000,"@lowlimit":5e-8}}},
{"id":"aob-comp-maxigauge","key":"MaxiGauge-pressure_rise","value":{"TaskName":"MaxiGauge-pressure_rise","Comment":"Measurement of pressure rise with @repeat points and a wait time of @waittime ms.","Action":"@acc","Host":"@host","Port":"@port","Repeat":"@repeat","DocPath":"@docpath","Wait":"@waittime","Value":"\u0005@CR","PostProcessing":["var _vec = _x.map(function(_e){return parseFloat(_e.split(',')[1]);});","_ret =_.checkNumArr(_vec);","_res = _.vlSlope(_ret.Arr, _.rmByIndex(_t_start,_ret.Skip), _.rmByIndex(_t_stop,_ret.Skip));","var Result=[","_.vlRes('@token_slope_x',  _res.bx,     'mbar/ms'),","_.vlRes('@token_R',        _res.R,      '1'),","_.vlRes('@token_N',        _res.remainN,'1')","];"],"Defaults":{"@CR":"\r","@host":"e75443","@port":"5303","@acc":"TCP","@docpath":"Measurement.Values.Pressure","@repeat":24,"@waittime":10000,"@lowlimit":5e-8}}},
{"id":"aob-cdg-ppc_maxigauge","key":"MaxiGauge-read_out","value":{"TaskName":"MaxiGauge-read_out","Comment":"pressure maesurement","Action":"@acc","Host":"@host","Port":"@port","Repeat":10,"Wait":500,"Value":"\u0005","PostScript":"maxigauge.read-out","PostScriptInput":{"Type":"ind","Unit":"mbar"},"Defaults":{"@CR":"\r","@host":"e75423","@port":8000,"@acc":"TCP","@docpath":"Measurement.Values.Pressure","@repeat":24,"@waittime":10000,"@lowlimit":5e-8}}},
{"id":"aob-ctrl-cdg_mks670_gpib","key":"MKS_CDG670_GPIB-device_ini","value":{"TaskName":"MKS_CDG670_GPIB-device_ini","Comment":"Task klammert alle ini-Strings und führt per default die digit Einstellung durch.","Action":"@acc","Host":"@host","Device":"@device","VxiTimeout":0,"LogPriority":"3","Values":{"unit_mbar":":sens:scan(@1):puni MBAR","unit_torr":":sens:scan(@1):puni TORR","no_aver":":sens:scan(@1):aver 1","high_res":":digit 5.5","meas_p":":sens:func pres","high_range":":sens:scan(@1):gain X1","med_range":":sens:scan(@1):gain X0.1","low_range":":sens:scan(@1):gain X0.01"},"Value":":digit 5.5","PostProcessing":["ToExchange={'@exchpath':_x == null};","var LogData={'x':_x};"],"Defaults":{"@host":"e75416","@device":"gpib0,13","@unt":"mbar","@acc":"VXI11","@range":"X1","@token":"fill","@unit":"mbar","@exchpath":"CDG","@repeat":10,"@waittime":1000}}},
{"id":"aob-ctrl-cdg_mks670_gpib","key":"MKS_CDG670_GPIB-is_ready","value":{"TaskName":"MKS_CDG670_GPIB-is_ready","Comment":"Testet ob das Gerät ansprechbar ist","Action":"@acc","Host":"@host","Device":"@device","LogPriority":"3","Value":"*IDN?","Fallback":{"ToExchange":{"@exchpath.Value":false}},"PostProcessing":["var ok = _x == 'MKS INSTRUMENTS INC, MODEL 670, 0, SW Version 1.00',","ToExchange={'@exchpath.Value':ok};","var LogData={'x':_x};"],"Defaults":{"@host":"e75416","@device":"gpib0,13","@unt":"mbar","@acc":"VXI11","@range":"X1","@token":"fill","@unit":"mbar","@exchpath":"CDG","@repeat":10,"@waittime":1000}}},
{"id":"aob-ctrl-cdg_mks670_gpib","key":"MKS_CDG670_GPIB-read_out","value":{"TaskName":"MKS_CDG670_GPIB-read_out","Comment":"Druckauslese; Ergebnisse werden an die exchange Schnittstelle geschrieben (ToExchange). Die ersten 5 Werte werden verworfen.","Action":"@acc","Host":"@host","Device":"@device","lockDevice":false,"VxiTimeout":60000,"LogPriority":"3","Value":":meas:func","Repeat":"@repeat","Wait":"@waittime","Fallback":{"ToExchange":{"@exchpath.Value":null,"@exchpath.SdValue":null,"@exchpath.N":null,"@exchpath.Unit":"@unit","@exchpath.Type":"@token"}},"PostProcessing":["var _last = _x.length - 1;","_x = _x.slice(4,_last);","_t_start = _t_start.slice(4,_last);","_t_stop = _t_stop.slice(4,_last);","var _vec=_x.map(_.extractMKSCDG).map(parseFloat),","RawData =_x,","_res = _.vlStat(_.checkNumArr(_vec).Arr),","ToExchange={","'@exchpath.Value':_res.mv,","'@exchpath.SdValue':_res.sd,","'@exchpath.N':_res.N,","'@exchpath.Unit':'@unit',","'@exchpath.Type':'@token'","};","var LogData={'vec':_vec};"],"Defaults":{"@host":"e75416","@device":"gpib0,13","@unt":"mbar","@acc":"VXI11","@range":"X1","@token":"fill","@unit":"mbar","@exchpath":"CDG","@repeat":10,"@waittime":1000}}},
{"id":"aob-ctrl-cdg_mks670_gpib","key":"MKS_CDG670_GPIB-read_save","value":{"TaskName":"MKS_CDG670_GPIB-read_save","Comment":"Druckauslese; Ergebnisse werden als Result (wird gleich gespeichert) zurückgegeben. Die ersten 5 Werte werden verworfen.","Action":"@acc","Host":"@host","Device":"@device","LogPriority":"3","DocPath":"@docpath","Value":":meas:func","Repeat":"@repeat","Wait":"@waittime","Fallback":{"Result":[{"Type":"@token","Value":null,"SdValue":null,"N":null,"Unit":"@unit"}]},"PostProcessing":["var _last = _x.length - 1;","_x = _x.slice(4,_last);","_t_start = _t_start.slice(4,_last);","_t_stop = _t_stop.slice(4,_last);","var _vec=_x.map(_.extractMKSCDG).map(parseFloat),","RawData =_x,","_res = _.vlStat(_.checkNumArr(_vec).Arr),","Result=[_.vlRes('@token',_res.mv,'@unit', '',_res.sd, _res.N)];","var LogData={'vec':_vec};"],"Defaults":{"@host":"e75416","@device":"gpib0,13","@unt":"mbar","@acc":"VXI11","@range":"X1","@token":"fill","@unit":"mbar","@exchpath":"CDG","@repeat":10,"@waittime":1000}}},
{"id":"aob-ctrl-cdg_mks670_gpib","key":"MKS_CDG670_GPIB-servo_meas","value":{"TaskName":"MKS_CDG670_GPIB-servo_meas","Comment":"Druckauslese servo measurement","Action":"@acc","Host":"@host","Device":"@device","DocPath":"Measurement.Values.StatPressureTime_@ttok","FromExchange":{"@ttok":"Go_Time.Value"},"StopIf":"Servo_1_Stop.Bool","Value":":meas:func","PostProcessing":["var Result=[_.vlRes('stat', _.extractMKSCDG(_x),'mbar'), _.vlRes('time', '' + _t_start, 'ms')];"],"Defaults":{"@host":"e75416","@device":"gpib0,13","@unt":"mbar","@acc":"VXI11","@range":"X1","@token":"fill","@unit":"mbar","@exchpath":"CDG","@repeat":10,"@waittime":1000}}},
{"id":"aob-ctrl-mks_flow_ctrl","key":"MKS_Flow_Ctrl-ctrl_pfill","value":{"TaskName":"MKS_Flow_Ctrl-ctrl_pfill","Comment":"Task sendet berechneten Fluss.","Action":"TCP","Host":"@host","NoLog":true,"Port":"@port","FromExchange":{"%target_p_fill%":"Filling_Pressure.Value","%target_p_fill_unit%":"Filling_Pressure.Unit","%setpoint%":"MKS_Flow_Ctrl.Value","%dev%":"Filling_Pressure_Dev.Value"},"Repeat":4,"Wait":250,"PreScript":"mkspr4000.calq-fm3","StopIf":"Filling_Pressure_Ok.Ready","Value":"%setpoint%","PostProcessing":["var ToExchange={\"@exchpath\":{\"Bool\":\"ok\"}};"],"Defaults":{"@CR":"\r","@host":"e75491","@port":"10002","@idstr":"PR42021320845","@exchpath":"MKS_Flow_Ctrl"}}},
{"id":"aob-ctrl-mks_flow_ctrl","key":"MKS_Flow_Ctrl-ctrl_pfill_cmp","value":{"TaskName":"MKS_Flow_Ctrl-ctrl_pfill_cmp","Comment":"Task sendet berechneten Fluss. Value wird vom PreScript gesetzt.","Action":"TCP","Host":"@host","NoLog":true,"Port":"@port","FromExchange":{"%target_p_fill%":"Filling_pressure.Value","%target_p_fill_unit%":"Filling_pressure.Unit","%dev%":"Filling_pressure_dev.Value"},"Repeat":4,"Wait":250,"PreScriptInput":{"Filling_pressure_dev":{"Value":"%dev%"},"Pressure_target":{"Value":"%target_p_fill%","Unit":"%target_p_fill_unit%"}},"NoReply":true,"PreScript":"mkspr4000.calq-fm3","StopIf":"Filling_pressure_ok.Ready","PostProcessing":["var ToExchange={\"@exchpath\":{\"Bool\":\"ok\"}};"],"Defaults":{"@CR":"\r","@host":"e75491","@port":"10002","@idstr":"PR42021320845","@exchpath":"MKS_Flow_Ctrl"}}},
{"id":"aob-ctrl-mks_flow_ctrl","key":"MKS_Flow_Ctrl-device_ini","value":{"TaskName":"MKS_Flow_Ctrl-device_ini","Comment":"Initialisierungen des Geräts","Action":"TCP","Host":"@host","Port":"@port","Repeat":4,"Wait":250,"Values":{"go_remote":"RT,ON@CR","set_zero":"SP1,0.0@CRSP2,0.0@CR","set1_zero":"SP1,0.0@CR","set2_zero":"SP2,0.0@CR","set_one":"SP1,1.0@CRSP2,1.0@CR","ch1_off":"VL1,OFF@CR","ch2_off":"VL2,OFF@CR","ch1_on":"VL1,ON@CR","ch2_on":"VL2,ON@CR"},"Value":"RT,ON@CR","PostProcessing":["var ToExchange={\"@exchpath\":{\"Bool\":_x.length > 0}};"],"Defaults":{"@CR":"\r","@host":"e75491","@port":"10002","@idstr":"PR42021320845","@exchpath":"MKS_Flow_Ctrl"}}},
{"id":"aob-ctrl-mks_flow_ctrl","key":"MKS_Flow_Ctrl-is_ready","value":{"TaskName":"MKS_Flow_Ctrl-is_ready","Comment":"Kontrolliert, ob Gerät ansprechbar ist","Action":"TCP","Host":"@host","Port":"@port","Value":"?ID@CR","PostProcessing":["var ToExchange={\"@exchpath\":{\"Bool\":_x.length > 0}};"],"Defaults":{"@CR":"\r","@host":"e75491","@port":"10002","@idstr":"PR42021320845","@exchpath":"MKS_Flow_Ctrl"}}},
{"id":"aob-ctrl-mks_flow_ctrl","key":"MKS_Flow_Ctrl-set","value":{"TaskName":"MKS_Flow_Ctrl-set","Comment":"Initialisierungen des Geräts","Action":"TCP","Host":"@host","Port":"@port","Repeat":4,"Wait":250,"Values":{"gen9E-5_exe":"SP1,0.5@CRSP2,0.0@CR","gen1E-4_exe":"SP1,0.6@CRSP2,0.0@CR","gen2E-4_exe":"SP1,0.0@CRSP2,1.3@CR","gen3E-4_exe":"SP1,0.0@CRSP2,2.0@CR","gen5E-4_exe":"SP1,0.0@CRSP2,2.9@CR","gen9E-4_exe":"SP1,0.0@CRSP2,5.3@CR","gen1E-3_exe":"SP1,0.0@CRSP2,6.0@CR","gen2E-3_exe":"SP1,0.0@CRSP2,13.0@CR","gen3E-3_exe":"SP1,0.0@CRSP2,20.0@CR","gen5E-3_exe":"SP1,0.0@CRSP2,29.0@CR"},"Value":"RT,ON@CR","PostProcessing":["var ToExchange={\"@exchpath\":{\"Bool\":_x.length > 0}};"],"Defaults":{"@CR":"\r","@host":"e75491","@port":"10002","@idstr":"PR42021320845","@exchpath":"MKS_Flow_Ctrl"}}},
{"id":"aob-cdg-mks_modbus","key":"MKS_Modbus_CDG-read_out","value":{"TaskName":"MKS_Modbus_CDG-read_out","Address":1,"Quantity":16,"FunctionCode":"ReadInputRegisters","OutMode":"Buffer","Action":"@acc","Repeat":"@repeat","Wait":"@waittime","Host":"@host","DocPath":"@docpath","PostProcessing":["var _vec = [];","for(var i=0; i < _x.length; i++){","_vec.push(_.readKunbusGw(_x[i], 1, 1));","}","var _res = _.vlStat(_vec);","var ToExchange = {","'@exchpath.Value':_res.mv,","'@exchpath.SdValue':_res.sd,","'@exchpath.N':_res.N,","'@exchpath.Unit':'mbar',","'@exchpath.Type':'ind'","};"],"Defaults":{"@host":"e75441","@acc":"MODBUS","@waittime":1000,"@repeat":5,"@token":"ind","@unit":"mbar","@exchpath":"MKS_ModBus_Cdg","@docpath":"Calibration.Measurement.Values.Pressure"}}},
{"id":"aob-ctrl-srg_2ce_ctrl","key":"MKS_SRG_2CE_Ctrl-device_ini","value":{"TaskName":"MKS_SRG_2CE_Ctrl-device_ini","Comment":"Initialisiert das Gerät","Action":"@acc","Host":"@host","Port":"@port","Values":{"high_p":"10 mti@CR @unt unt@CR rst@CR","low_p":"30 mti@CR @unt unt@CR rst@CR","offset":"30 mti@CR @unt unt@CR rst@CR"},"Value":"30 mti@CR @unt unt@CR rst@CR","PostProcessing":["ToExchange={'@exchpath':_x.split('').length > 0};"],"Defaults":{"@host":"e75493","@port":"10003","@acc":"TCP","@unt":"0","@CR":"\\u000d","@token":"F12","@exchpath":"SRG_F12","@repeat":3,"@waittime":10000}}},
{"id":"aob-ctrl-srg_2ce_ctrl","key":"MKS_SRG_2CE_Ctrl-goto_local","value":{"TaskName":"MKS_SRG_2CE_Ctrl-goto_local","Comment":"socket Kommunikation","Action":"@acc","Host":"@host","Port":"@port","Value":"rtl@CR","Defaults":{"@host":"e75493","@port":"10003","@acc":"TCP","@unt":"0","@CR":"\\u000d","@token":"F12","@exchpath":"SRG_F12","@repeat":3,"@waittime":10000}}},
{"id":"aob-ctrl-srg_2ce_ctrl","key":"MKS_SRG_2CE_Ctrl-read_frequency","value":{"TaskName":"MKS_SRG_2CE_Ctrl-read_frequency","Comment":"Auslese der Frequenz","Action":"@acc","Host":"@host","Port":"@port","DocPath":"@docpath","Value":"rsp@CR","PostProcessing":["var f = parseFloat(_x),","Result=[_.vlRes('@token',f,'Hz')],","ToExchange={'@exchpath.Caption':'@token','@exchpath.Type':'@token','@exchpath.Value':f, '@exchpath.Unit':'Hz' };"],"Defaults":{"@host":"e75493","@port":"10003","@acc":"TCP","@unt":"0","@CR":"\\u000d","@token":"F12","@exchpath":"SRG_F12","@repeat":3,"@waittime":10000}}},
{"id":"aob-ctrl-srg_2ce_ctrl","key":"MKS_SRG_2CE_Ctrl-read_out","value":{"TaskName":"MKS_SRG_2CE_Ctrl-read_out","Comment":"Auslese des Geräts","Action":"@acc","Repeat":"@repeat","Wait":"@waittime","Host":"@host","Port":"@port","Value":"val@CR","PostProcessing":["var _vec=_x.map(_.extractSRG3),","_res = _.vlStat(_.checkNumArr(_vec).Arr),","ToExchange={'@exchpath.Caption':'@token','@exchpath.Type':'@token','@exchpath.Value':_res.mv,'@exchpath.SdValue':_res.sd,  '@exchpath.Unit':'DCR' };"],"Defaults":{"@host":"e75493","@port":"10003","@acc":"TCP","@unt":"0","@CR":"\\u000d","@token":"F12","@exchpath":"SRG_F12","@repeat":3,"@waittime":10000}}},
{"id":"aob-ctrl-srg_3_mks","key":"MKS_SRG_3-device_ini","value":{"TaskName":"MKS_SRG_3-device_ini","Comment":"Initialisiert das Gerät","Action":"@acc","Host":"@host","Port":"@port","Values":{"high_p":"10 mti\r @unt unt\r rst\r","low_p":"30 mti\r @unt unt\r rst\r","offset":"30 mti\r @unt unt\r rst\r"},"Value":"30 mti\r @unt unt\r rst\r","PostProcessing":["ToExchange={\"@exchpath\":_x.split(\"\").length > 0};"],"Defaults":{"@host":"e75437","@port":5303,"@acc":"TCP","@unt":"0","@token":"F12","@exchpath":"SRG_F12","@repeat":5,"@waittime":30000}}},
{"id":"aob-ctrl-srg_3_mks","key":"MKS_SRG_3-goto_local","value":{"TaskName":"MKS_SRG_3-goto_local","Comment":"socket Kommunikation","Action":"@acc","Host":"@host","Port":"@port","Value":"rtl\r","Defaults":{"@host":"e75437","@port":5303,"@acc":"TCP","@unt":"0","@token":"F12","@exchpath":"SRG_F12","@repeat":5,"@waittime":30000}}},
{"id":"aob-ctrl-srg_3_mks","key":"MKS_SRG_3-meas","value":{"TaskName":"MKS_SRG_3-meas","Comment":"Saves an offset sample in AuxValues","Action":"TCP","Host":"e75493","Port":"10002","DocPath":"Calibration.Measurement.Values.Pressure","Value":"val\r","PostProcessing":["var _vec=_.extractSRG3(_x),","Result=[_.vlRes(\"ind\",_vec,\"DCR\", \"\")];"],"Defaults":{"@host":"e75437","@port":5303,"@acc":"TCP","@unt":"0","@token":"F12","@exchpath":"SRG_F12","@repeat":5,"@waittime":30000}}},
{"id":"aob-ctrl-srg_3_mks","key":"MKS_SRG_3-outgas","value":{"TaskName":"MKS_SRG_3-outgas","Comment":"Messung des Druckanstiegs. DCR Wert wird in N2 äquivalent umgerechnet (*27).","Action":"@acc","Repeat":"@repeat","Wait":"@waittime","Host":"@host","Port":"@port","DocPath":"@docpath","Value":"val\r","PostProcessing":["var _vec=_x.map(_.extractSRG3).map(function(p){return p*27.}),","_ret =_.checkNumArr(_vec);","_res = _.vlSlope(_ret.Arr, _.rmByIndex(_t_start,_ret.Skip), _.rmByIndex(_t_stop,_ret.Skip));","var Result=[{\"Type\":\"outgas\",\"Value\":_res.bx,\"Unit\":\"mbar/ms\"}];","var ToExchange={\"OutGasRate.Type\":\"outgas\",\"OutGasRate.Value\":_res.bx * 1000,\"OutGasRate.Unit\":\"mbar/s\"};","var LogData =_x;"],"Defaults":{"@host":"e75437","@port":5303,"@acc":"TCP","@unt":"0","@token":"F12","@exchpath":"SRG_F12","@repeat":5,"@waittime":30000}}},
{"id":"aob-ctrl-srg_3_mks","key":"MKS_SRG_3-read_frequency","value":{"TaskName":"MKS_SRG_3-read_frequency","Comment":"Auslese der Frequenz","Action":"@acc","Host":"@host","Port":"@port","DocPath":"@docpath","Value":"rsp\r","PostProcessing":["var f = parseFloat(_x),","Result=[_.vlRes(\"@token\",f,\"Hz\")],","ToExchange={\"@exchpath.Caption\":\"@token\",\"@exchpath.Type\":\"@token\",\"@exchpath.Value\":f, \"@exchpath.Unit\":\"Hz\" };"],"Defaults":{"@host":"e75437","@port":5303,"@acc":"TCP","@unt":"0","@token":"F12","@exchpath":"SRG_F12","@repeat":5,"@waittime":30000}}},
{"id":"aob-ctrl-srg_3_mks","key":"MKS_SRG_3-read_out","value":{"TaskName":"MKS_SRG_3-read_out","Comment":"Auslese des Geräts","Action":"@acc","Repeat":"@repeat","Wait":"@waittime","Host":"@host","Port":"@port","DocPath":"@docpath","Value":"val\r","PostProcessing":["var _vec=_x.map(_.extractSRG3),","_res = _.vlStat(_.checkNumArr(_vec).Arr),","Result=[_.vlRes(\"@token\",_res.mv,\"DCR\", \"\", _res.sd, _res.N)],","ToExchange={\"@exchpath.Caption\":\"@token\",\"@exchpath.Type\":\"@token\",\"@exchpath.Value\":_res.mv, \"@exchpath.SdValue\":_res.sd,\"@exchpath.Unit\":\"DCR\" };"],"Defaults":{"@host":"e75437","@port":5303,"@acc":"TCP","@unt":"0","@token":"F12","@exchpath":"SRG_F12","@repeat":5,"@waittime":30000}}},
{"id":"aob-ctrl-srg_mks_srg2","key":"MKS_SRG2-frequency_exec","value":{"TaskName":"MKS_SRG2-frequency_exec","Comment":"Measures a single frequency value","Action":"@acc","DocPath":"@docpath","Host":"@host","Device":"@device","Value":"LFQ@CR","PostProcessing":["Result =[_.vlRes('rd',parseFloat(_x),'Hz')];"],"Defaults":{"@si":"30","@token":"srg","@sp":"DCR","@repeat":"6","@host":"e75465","@acc":"VXI11","@CR":"\n","@device":"gpib0,5"}}},
{"id":"aob-ctrl-srg_mks_srg2","key":"MKS_SRG2-goto_local","value":{"TaskName":"MKS_SRG2-goto_local","Comment":"dont work, see 4.3.11 for unsufficient info :(","Action":"@acc","Host":"@host","Device":"@device","Value":"\u0001\n","Defaults":{"@si":"30","@token":"srg","@sp":"DCR","@repeat":"6","@host":"e75465","@acc":"VXI11","@CR":"\n","@device":"gpib0,5"}}},
{"id":"aob-ctrl-srg_mks_srg2","key":"MKS_SRG2-pressure_exec","value":{"TaskName":"MKS_SRG2-pressure_exec","Comment":"Measures a single pressure value","Action":"@acc","Host":"@host","Device":"@device","DocPath":"@docpath","Value":"","PostProcessing":["Result =[_.vlRes('rd',parseFloat(_x),'DCR')];"],"Defaults":{"@si":"30","@token":"srg","@sp":"DCR","@repeat":"6","@host":"e75465","@acc":"VXI11","@CR":"\n","@device":"gpib0,5"}}},
{"id":"aob-ctrl-srg_mks_srg2","key":"MKS_SRG2-read_out","value":{"TaskName":"MKS_SRG2-read_out","DocPath":"@docpath","Action":"VXI11","Host":"@host","Device":"@device","Repeat":"@repeat","Wait":"30000","Value":"","PostProcessing":["_x.shift();","_tmp = _x.map(function(i){return(parseFloat(i));});","var _res = _.vlStat(_.checkNumArr(_tmp).Arr),","Result=[_.vlRes('frs_res',_res.mv,'DCR'),","_.vlRes('sd_frs_res',  _res.sd,'DCR'),","_.vlRes('N_frs_res',  _res.N, '1')];","ToExchange={'@exchpath.Caption':'@token','@exchpath.Type':'@token','@exchpath.Value':_res.mv, '@exchpath.SdValue':_res.sd,'@exchpath.Unit':'DCR' };"],"Defaults":{"@si":"30","@token":"srg","@sp":"DCR","@repeat":"6","@host":"e75465","@acc":"VXI11","@CR":"\n","@device":"gpib0,5"}}},
{"id":"mpd-mkt50-pt100_ce3_calib","key":"MKT50_Calibration-cal_correction","value":{"Action":"/usr/bin/Rscript","Comment":"Calculates correction factors","TaskName":"MKT50_Calibration-cal_correction","Value":["/usr/local/share/vlr/scripts/ce3.temperature_correction.r","@cdids"]}},
{"id":"mpd-mkt50-pt100_se3_calib","key":"MKT50_Calibration-cal_correction","value":{"Action":"/usr/bin/Rscript","Comment":"Calculates correction factors","TaskName":"MKT50_Calibration-cal_correction","Value":["/usr/local/share/vlr/scripts/se3.temperature_correction.r","@cdids"]}},
{"id":"mpd-mkt50-pt100_ce3_calib","key":"MKT50_Calibration-run_measurement","value":{"Action":"ctrlContainer","Comment":"Starts measurement Container","TaskName":"MKT50_Calibration-run_measurement","Value":{"1":"load;run"}}},
{"id":"mpd-mkt50-pt100_se3_calib","key":"MKT50_Calibration-run_measurement","value":{"Action":"ctrlContainer","Comment":"Starts measurement Container","TaskName":"MKT50_Calibration-run_measurement","Value":{"1":"load;run"}}},
{"id":"std-mkt50","key":"MKT50-exec","value":{"TaskName":"MKT50-exec","Comment":"Auslese","Action":"@acc","Host":"@host","Port":"@port","Repeat":"@repeat","DocPath":"Calibration.Measurement.Values.Temperature","Wait":1000,"Value":"GET DATA@CR","PostProcessing":["var _vec=_x.map(_.extractMKT50).map(parseFloat),","_res = _.vlStat(_.checkNumArr(_vec).Arr),","Result=[_.vlRes(\"mkt50\", _res.mv, \"C\", false, _res.sd, _res.N)],","ToExchange={\"MKT50.Value\":_res.mv,","\"MKT50.Unit\":\"C\",","\"MKT50.SdValue\":_res.sd,","\"MKT50.N\":_res.N,","\"MKT50.Type\":\"mkt50\"","}, LogData={\"x\":_x, \"vec\":_vec};"],"Defaults":{"@CR":"\r","@host":"e75421","@port":"5300","@acc":"TCP","@repeat":70}}},
{"id":"aob-cdg-new_inf_modbus","key":"New_Inficon_Modbus_CDG-compare_ctrl","value":{"TaskName":"New_Inficon_Modbus_CDG-compare_ctrl","Address":0,"Quantity":68,"FunctionCode":"ReadInputRegisters","OutMode":"Buffer","Action":"@acc","Repeat":3,"Wait":2000,"Host":"@host","StopIf":"Pressure_compare_ok.Bool","FromExchange":{"@pressuretarget":"Pressure_compare.Value"},"PostScriptInput":{"Type":"compare_check","TargetUnit":"Pa","TargetPressure":"@pressuretarget"},"PostScript":"gn_se3.anybus-pressure-ctrl","Defaults":{"@host":"e75480","@acc":"MODBUS","@waittime":1000,"@repeat":40,"@token":"ind","@unit":"mbar","@exchpath":"New_Inf_ModBus_Cdg","@docpath":"Calibration.Measurement.Values.Pressure"}}},
{"id":"aob-cdg-new_inf_modbus","key":"New_Inficon_Modbus_CDG-filling_ctrl","value":{"TaskName":"New_Inficon_Modbus_CDG-filling_ctrl","Address":0,"Quantity":68,"FunctionCode":"ReadInputRegisters","OutMode":"Buffer","Action":"@acc","Repeat":3,"Wait":2000,"Host":"@host","StopIf":"Pressure_fill_ok.Bool","FromExchange":{"@pressuretarget":"Pressure_fill.Value"},"PostScriptInput":{"Type":"fill_check","TargetUnit":"Pa","TargetPressure":"@pressuretarget"},"PostScript":"gn_se3.anybus-pressure-ctrl","Defaults":{"@host":"e75480","@acc":"MODBUS","@waittime":1000,"@repeat":40,"@token":"ind","@unit":"mbar","@exchpath":"New_Inf_ModBus_Cdg","@docpath":"Calibration.Measurement.Values.Pressure"}}},
{"id":"aob-cdg-new_inf_modbus","key":"New_Inficon_Modbus_CDG-read_out","value":{"TaskName":"New_Inficon_Modbus_CDG-read_out","Address":0,"Quantity":68,"FunctionCode":"ReadInputRegisters","OutMode":"Buffer","Comment":"Device read out.","Action":"@acc","Repeat":"@repeat","Wait":"@waittime","Host":"@host","DocPath":"@docpath","PostScriptInput":{"Prefix":"","Suffix":"-@token","Unit":"Pa"},"PostScript":"gn_se3.anybus-readout","Defaults":{"@host":"e75480","@acc":"MODBUS","@waittime":1000,"@repeat":40,"@token":"ind","@unit":"mbar","@exchpath":"New_Inf_ModBus_Cdg","@docpath":"Calibration.Measurement.Values.Pressure"}}},
{"id":"aob-motor-ppc_servo","key":"PPC_Servo-get_pos","value":{"TaskName":"PPC_Servo-get_pos","Comment":"Liefert die Position","Action":"TCP","Host":"@host","Port":"@port","PostScriptInput":{"Motor":""},"PostScript":"servo-se3.get-pos","Value":"POS@CR","Defaults":{"@CR":"\r","@host":"e75437","@port":"5302","@serial":"311500509","@peakcurrent":"950","@contcurrent":"600","@velo":"100","@slowspeed":"100","@fastspeed":"3000","@minv":40}}},
{"id":"aob-motor-ppc_servo","key":"PPC_Servo-ini","value":{"TaskName":"PPC_Servo-ini","Comment":"Initialisierung & Einstellung des Motors .","Action":"TCP","Host":"@host","Port":"@port","PostScriptInput":{"Motor":""},"PostScript":"servo-se3.resp-ok","Values":{"rs232":"SOR0@CR","answerOk":"ANSW2@CR","continuousMode":"CONTMOD@CR","peakCurrent":"LPC@peakcurrent@CR","contCurrent":"LCC@contcurrent@CR","enable":"EN@CR","disable":"DI@CR","homepos":"HO@CR","medramp":"SP3000@CR","setopenpos":"LA2700000@CR","defopenpos":"HO2700000@CR","setmediumpos":"LA300000@CR","go":"M@CR"},"Defaults":{"@CR":"\r","@host":"e75437","@port":"5302","@serial":"311500509","@peakcurrent":"950","@contcurrent":"600","@velo":"100","@slowspeed":"100","@fastspeed":"3000","@minv":40}}},
{"id":"aob-motor-ppc_servo","key":"PPC_Servo-meas_velo","value":{"TaskName":"PPC_Servo-meas_velo","Comment":"Misst Geschwindigkeit des Motors: ; Beendet sich falls Geschwindigkeit unter @minv rpm fällt.","Action":"TCP","Host":"@host","Port":"@port","StopIf":"Servo__Stop.Bool","Wait":"500","Value":"GN@CR","PostScriptInput":{"Motor":"","MinVelo":"@minv"},"PostScript":"servo-se3.meas-velo","Defaults":{"@CR":"\r","@host":"e75437","@port":"5302","@serial":"311500509","@peakcurrent":"950","@contcurrent":"600","@velo":"100","@slowspeed":"100","@fastspeed":"3000","@minv":40}}},
{"id":"aob-motor-ppc_servo","key":"PPC_Servo-set_velo","value":{"TaskName":"PPC_Servo-set_velo","Comment":"Setzt Motor: Geschwindigkeit auf @velo rpm","Action":"TCP","Host":"@host","Port":"@port","PostScriptInput":{"Velo":"@velo"},"PostScript":"servo-se3.set-velo","Value":"V@velo@CR","Defaults":{"@CR":"\r","@host":"e75437","@port":"5302","@serial":"311500509","@peakcurrent":"950","@contcurrent":"600","@velo":"100","@slowspeed":"100","@fastspeed":"3000","@minv":40}}},
{"id":"aob-ctrl-presto_se3","key":"PRESTO_SE3-read_internal","value":{"TaskName":"PRESTO_SE3-read_internal","Comment":"Reads out the internal bath temperature.","Action":"%acc%","Host":"%host%","Port":"%port%","Value":"in_pv_00%CR%","PostProcessing":["var ToExchange={'@exchpath':{'Value': parseFloat(_x), 'Unit':'C'}};"],"Defaults":{"%host%":"e75479","%port%":"5050","%CR%":"\r","%acc%":"TCP","%exchpath%":"PRESTO"}}},
{"id":"cob-ig-ptb_sig_09800","key":"PTB_SIG_09800-is_ready","value":{"TaskName":"PTB_SIG_09800-is_ready","Comment":"Testet ob das Gerät ansprechbar ist","Action":"@acc","Host":"@host","Device":"@device","LogPriority":"3","Value":"PCS1@CR","Fallback":{"ToExchange":{"@exchpath":false}},"PostProcessing":["var ok = _x == 0,","ToExchange={'@exchpath':ok};"],"Defaults":{"@host":"e75481","@device":"gpib0,2","@unit":"mbar","@CR":"\\r","@waittime":"1000","@repeat":"10","@acc":"VXI11","@token":"pn","@docpath":"Calibration.Measurement.Values.Drift","@exchpath":"CE3_SIG.Value.value"}}},
{"id":"cob-ig-ptb_sig_09800","key":"PTB_SIG_09800-read_out","value":{"TaskName":"PTB_SIG_09800-read_out","Comment":"Druckauslese","Action":"@acc","Host":"@host","Device":"@device","LogPriority":"3","DocPath":"@docpath","lockDevice":false,"Value":"DSIG1@CR","Repeat":"@repeat","Wait":"@waittime","Fallback":{"Result":[{"Type":"@token","Value":null,"Unit":"@unit"},{"Type":"sd_@token","Value":null,"Unit":"@unit"},{"Type":"N_@token","Value":null,"Unit":"@unit"}],"ToExchange":{"@exchpath.Value":null,"@exchpath.Unit":"@unit","@exchpath.Type":"@token"}},"PostProcessing":["var _vec=_x.map(parseFloat),","RawData =_x,","_res = _.vlStat(_.checkNumArr(_vec).Arr),","Result=[_.vlRes('@token',_res.mv,'@unit'),","_.vlRes('sd_@token',_res.sd,'@unit'),","_.vlRes('N_@token',_res.N,'1')],","ToExchange={","'@exchpath.Value':_res.mv,","'@exchpath.Unit':'@unit',","'@exchpath.Type':'@token'","};"],"Defaults":{"@host":"e75481","@device":"gpib0,2","@unit":"mbar","@CR":"\\r","@waittime":"1000","@repeat":"10","@acc":"VXI11","@token":"pn","@docpath":"Calibration.Measurement.Values.Drift","@exchpath":"CE3_SIG.Value.value"}}},
{"id":"cob-qbs-qbs_1","key":"QBS_1-init","value":{"TaskName":"QBS_1-init","Comment":"initialisiert Ruska","Action":"@acc","Host":"@host","Device":"@device","Values":{"meas_mode":"OUTP:MODE MEAS@CR*OPC?@CR","ctrl_mode":"OUTP:MODE CONT@CR*OPC?@CR","set_pressure":"SOURCE:PRES @target@CR*OPC?@CR","set_zero":"SOURCE:PRES 0.0@CR*OPC?@CR"},"PostProcessing":["ok = _x ?true:false;"],"Value":"OUTP:MODE MEAS@CR*OPC?@CR","Defaults":{"@unit":"Pa","@host":"e75416","@device":"gpib0,4","@acc":"VXI11","@token":"fill","@target":"0.1","@exchpath":"QBS_1","@docpath":"Calibration.Measurement.Values.Pressure","@CR":"\n"}}},
{"id":"cob-qbs-qbs_1","key":"QBS_1-pressure_exec","value":{"TaskName":"QBS_1-pressure_exec","Comment":"Messung des Ruska 7010","Action":"@acc","Host":"@host","DocPath":"@docpath","Device":"@device","Repeat":"31","Wait":"500","Value":"MEAS:PRES?@CR","PostProcessing":["var _tmp = _x.map(function(i){ return(parseFloat(i));});","_tmp.shift();","var _res = _.vlStat(_.checkNumArr(_tmp).Arr),","Result=[_.vlRes(\"qbs-@token\",_res.mv,\"@unit\", \"\", _res.sd,_res.N )];"],"Defaults":{"@unit":"Pa","@host":"e75416","@device":"gpib0,4","@acc":"VXI11","@token":"fill","@target":"0.1","@exchpath":"QBS_1","@docpath":"Calibration.Measurement.Values.Pressure","@CR":"\n"}}},
{"id":"aob-virt-read_display","key":"ReadDisplay-read_out_single","value":{"TaskName":"ReadDisplay-read_out_single","Comment":"read out predicted value","Action":"@acc","Host":"@host","Port":"@port","DocPath":"@docpath","Value":"value","PostProcessing":["var _s = JSON.parse(_x), Result={'Value':_s.pred, 'Picture':_s.img};","var Result=[_.vlRes('@token',parseFloat(_s.pred),'V')];"],"Defaults":{"@host":"i75420","@port":"10000","@acc":"TCP","@docpath":"Commissioning.Values.Pressure"}}},
{"id":"cob-ig-se1_atmion","key":"SE1_ATMION-degas","value":{"TaskName":"SE1_ATMION-degas","Action":"TCP","Host":"@host","Port":"@port","Values":{"on":"SDG1, 1@CR","off":"SDG1, 0@CR"},"Defaults":{"@host":"e75437","@port":"5302","@CR":"\r"}}},
{"id":"cob-ig-se1_atmion","key":"SE1_ATMION-exec","value":{"TaskName":"SE1_ATMION-exec","Action":"TCP","Host":"@host","Port":"@port","Value":"RPV1@CR","DocPath":"Calibration.Measurement.AuxValues.Pressure","PostProcessing":["_val =parseFloat(_x.split('\t')[1]);","if(_val){","Result=[{'Type':'res','Value':_val,'Unit':'mbar'}]","}else{","Result=[{'Type':'res','Value':null,'Unit':'mbar'}]","}"],"Defaults":{"@host":"e75437","@port":"5302","@CR":"\r"}}},
{"id":"cob-ig-se1_atmion","key":"SE1_ATMION-outgas_exec","value":{"TaskName":"SE1_ATMION-outgas_exec","Comment":"Misst den Druckanstieg im 233l Kessel; postprocessing berechnetAnstieg","Action":"TCP","Host":"@host","Port":"@port","Repeat":"20","Wait":"15000","LogPriority":"3","Value":"RPV1@CR","DocPath":"Calibration.Measurement.AuxValues.OutGasRate","PostProcessing":["var _vec = _x.map(_.extractAtmion).map(parseFloat);","_ret =_.checkNumArr(_vec);","_res = _.vlSlope(_ret.Arr, _.rmByIndex(_t_start,_ret.Skip), _.rmByIndex(_t_stop,_ret.Skip));","var Result=[{'Type':'outgas','Value':_res.bx,'Unit':'mbar/ms'}];","var ToExchange={'OutGasRate.Type':'outgas','OutGasRate.Value':_res.bx * 1000,'OutGasRate.Unit':'mbar/s'};","var LogData =_x;"],"Defaults":{"@host":"e75437","@port":"5302","@CR":"\r"}}},
{"id":"mpd-dkm_ppc4-se1_cdg","key":"SE1_CDG-reset_ready","value":{"Action":"writeExchange","Comment":"resets a ready Element","TaskName":"SE1_CDG-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false}}},
{"id":"mpd-frs5_se1_cdg","key":"SE1_CDG-reset_ready","value":{"Action":"writeExchange","Comment":"resets a ready Element","TaskName":"SE1_CDG-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false}}},
{"id":"mpd-dkm_ppc4-se1_cdg","key":"SE1_CDG-run_container","value":{"Action":"ctrlContainer","Comment":"Starts ini Container","TaskName":"SE1_CDG-run_container","RunIf":"DocumentsOk.Ready","Value":{"1":"load;run","2":"load;run","3":"load;run"}}},
{"id":"mpd-frs5_se1_cdg","key":"SE1_CDG-run_container","value":{"Action":"ctrlContainer","Comment":"Starts ini Container","TaskName":"SE1_CDG-run_container","RunIf":"DocumentsOk.Ready","Value":{"1":"load;run","2":"load;run","3":"load;run"}}},
{"id":"aob-ctrl-se1_flow_ctrl","key":"SE1_Flow_Ctrl-auto_high","value":{"TaskName":"SE1_Flow_Ctrl-auto_high","Comment":"Initialisierungen des 100sccm Ctrls.","Action":"TCP","Host":"@host","Port":"@port_high","Value":"V1=1@CR","Defaults":{"@host":"e75437","@port_low":"5300","@port_high":"5301","@CR":"\r","@exchpath_low":"SE1_Low_Flow_Ctrl.Value","@exchpath_high":"SE1_High_Flow_Ctrl.Value"}}},
{"id":"aob-ctrl-se1_flow_ctrl","key":"SE1_Flow_Ctrl-auto_low","value":{"TaskName":"SE1_Flow_Ctrl-auto_low","Comment":"Initialisierungen des 5sccm Ctrls.","Action":"TCP","Host":"@host","Port":"@port_low","Value":"V1=1@CR","Defaults":{"@host":"e75437","@port_low":"5300","@port_high":"5301","@CR":"\r","@exchpath_low":"SE1_Low_Flow_Ctrl.Value","@exchpath_high":"SE1_High_Flow_Ctrl.Value"}}},
{"id":"aob-ctrl-se1_flow_ctrl","key":"SE1_Flow_Ctrl-ctrl_pfill_high","value":{"TaskName":"SE1_Flow_Ctrl-ctrl_pfill_high","Comment":"Task sendet berechneten Fluss an 100sccm Ctrl.","Action":"TCP","Host":"@host","NoLog":true,"Port":"@port_high","StopIf":"Filling_Pressure_Ok.Ready","RunIf":"SE1_Flow_Ctrl.Bool","FromExchange":{"@setpoint":"SE1_High_Flow_Ctrl_SP.Value"},"Value":"V4=@setpoint@CR","Defaults":{"@host":"e75437","@port_low":"5300","@port_high":"5301","@CR":"\r","@exchpath_low":"SE1_Low_Flow_Ctrl.Value","@exchpath_high":"SE1_High_Flow_Ctrl.Value"}}},
{"id":"aob-ctrl-se1_flow_ctrl","key":"SE1_Flow_Ctrl-ctrl_pfill_low","value":{"TaskName":"SE1_Flow_Ctrl-ctrl_pfill_low","Comment":"Task sendet berechneten Fluss an 5sccm Ctrl.","Action":"TCP","Host":"@host","NoLog":true,"Port":"@port_low","StopIf":"Filling_Pressure_Ok.Ready","RunIf":"SE1_Flow_Ctrl.Bool","FromExchange":{"@setpoint":"SE1_Low_Flow_Ctrl_SP.Value"},"Value":"V4=@setpoint@CR","Defaults":{"@host":"e75437","@port_low":"5300","@port_high":"5301","@CR":"\r","@exchpath_low":"SE1_Low_Flow_Ctrl.Value","@exchpath_high":"SE1_High_Flow_Ctrl.Value"}}},
{"id":"aob-ctrl-se1_flow_ctrl","key":"SE1_Flow_Ctrl-get_high","value":{"TaskName":"SE1_Flow_Ctrl-get_high","Comment":"Liest Ist-Wert des 100sccm Ctrls.","Action":"TCP","Host":"@host","Port":"@port_high","Value":"F@CR","PostProcessing":["var _val = parseFloat(_x)","ToExchange={'@exchpath_high':_val};"],"Defaults":{"@host":"e75437","@port_low":"5300","@port_high":"5301","@CR":"\r","@exchpath_low":"SE1_Low_Flow_Ctrl.Value","@exchpath_high":"SE1_High_Flow_Ctrl.Value"}}},
{"id":"aob-ctrl-se1_flow_ctrl","key":"SE1_Flow_Ctrl-get_low","value":{"TaskName":"SE1_Flow_Ctrl-get_low","Comment":"Liest Ist-Wert des 5sccm Ctrls.","Action":"TCP","Host":"@host","Port":"@port_low","Value":"F@CR","PostProcessing":["var _val = parseFloat(_x)","ToExchange={'@exchpath_low':_val};"],"Defaults":{"@host":"e75437","@port_low":"5300","@port_high":"5301","@CR":"\r","@exchpath_low":"SE1_Low_Flow_Ctrl.Value","@exchpath_high":"SE1_High_Flow_Ctrl.Value"}}},
{"id":"aob-ctrl-se1_flow_ctrl","key":"SE1_Flow_Ctrl-shut_high","value":{"TaskName":"SE1_Flow_Ctrl-shut_high","Comment":"Schließt Ventil des 100sccm Ctrls.","Action":"TCP","Host":"@host","Port":"@port_high","Value":"V1=3@CR","Defaults":{"@host":"e75437","@port_low":"5300","@port_high":"5301","@CR":"\r","@exchpath_low":"SE1_Low_Flow_Ctrl.Value","@exchpath_high":"SE1_High_Flow_Ctrl.Value"}}},
{"id":"aob-ctrl-se1_flow_ctrl","key":"SE1_Flow_Ctrl-shut_low","value":{"TaskName":"SE1_Flow_Ctrl-shut_low","Comment":"Schließt Ventil des 5sccm Ctrls.","Action":"TCP","Host":"@host","Port":"@port_low","Value":"V1=3@CR","Defaults":{"@host":"e75437","@port_low":"5300","@port_high":"5301","@CR":"\r","@exchpath_low":"SE1_Low_Flow_Ctrl.Value","@exchpath_high":"SE1_High_Flow_Ctrl.Value"}}},
{"id":"mpd-se1-calib","key":"SE1-cal_pcal","value":{"Action":"EXECUTE","Cmd":"/usr/bin/Rscript","Comment":"Calculates the calibration pressure for all selected calibration documents.","TaskName":"SE1-cal_pcal","Args":["/usr/local/share/vlr/scripts/se1.calibration_pressure.r","@cdids"]}},
{"id":"mpd-se1-calib","key":"SE1-cal_pfill","value":{"Action":"EXECUTE","Cmd":"/usr/bin/Rscript","Comment":"Calculates pfill from pcal","TaskName":"SE1-cal_pfill","RunIf":"Target_Pressure.Ready","FromExchange":{"@targetpressure":"Target_Pressure.Selected"},"Args":["/usr/local/share/vlr/scripts/se1.filling_pressure.r","@targetpressure"],"PostProcessing":["var _res = _x.split(';');","var pfill = _res[1] == '~' ? NaN: parseFloat(_res[1]);","var f_uncorr = _res[2] == '~' ? NaN: parseFloat(_res[2]);","var start_vol = _res[3] == '~' ? NaN: parseFloat(_res[3]);","var ToExchange = {","'Filling_Pressure.Value':pfill,","'Expansion.Value':'' + _res[0],","'Expansion.Type':'name',","'Expansion.Unit':'',","'Ratio.Value':f_uncorr,","'Ratio.Type':'ratio_uncorr',","'Ratio.Unit':'1',","'Volume.Value':start_vol,","'Volume.Type':'volume_start',","'Volume.Unit':'cm^3'","};","var LogData={'x':_x};"]}},
{"id":"cob-dmm-se1_keithley","key":"SE1-DMM_Keithley-device_init","value":{"TaskName":"SE1-DMM_Keithley-device_init","Comment":"Führt Initialisierungen aus","LogPriority":"3","Action":"@acc","Host":"@host","Port":"@port","Values":{"syst":"SYST:PRES;*OPC?\n","reset":"*RST;*OPC?\n","trac_cl":"TRAC:CLE;*OPC?\n","cont_ini_off":"INIT:CONT OFF;*OPC?\n","trig_imm":"TRIG:SOUR IMM;*OPC?\n","trig_coun":"TRIG:COUN 1;*OPC?\n","samp_coun":"SAMP:COUN 10;*OPC?\n","rout_scan_t":"ROUT:SCAN @tempchan;*OPC?\n","rout_scan_v":"ROUT:SCAN @presschan;*OPC?\n","rout_tso":"ROUT:SCAN:TSO IMM;*OPC?\n","rout_lsel":"ROUT:SCAN:LSEL INT;*OPC?\n","trac_ao":"TRAC:CLE:AUTO OFF;*OPC?\n","func_t":"FUNC \"TEMP\", @tempchan;*OPC?\n","func_v":"FUNC \"VOLT\", @presschan;*OPC?\n","temp_frtd":"TEMP:TRAN FRTD, @tempchan;*OPC?\n","temp_typ":"TEMP:FRTD:TYPE PT100, @tempchan;*OPC?\n","close":"ROUT:CLOS (@@channel);*OPC?\n"},"PostProcessing":["ok= (_x == 1)?true:false;"],"Defaults":{"@acc":"TCP","@host":"e75444","@port":1394,"@addr":"10","@unit":"C","@tempchan":"(@101:110)","@presschan":"(@201:203)","@channel":"101","@CR":"\n","@Twait":"1000","@Pwait":"500","@NT":"5","@NP":"10"}}},
{"id":"cob-dmm-se1_keithley","key":"SE1-DMM_Keithley-pressure_exec","value":{"TaskName":"SE1-DMM_Keithley-pressure_exec","Comment":"read out channel @presschan","LogPriority":"3","Action":"@acc","Repeat":"@NT","Wait":"@Twait","Host":"@host","Port":"@port","DocPath":"Calibration.Measurement.Values.Pressure","Value":"+READ?\n","PostProcessing":["var _ro =_.extractKeithleyPressScan(_x,\"@presschan\"), _res = [], k,","ToExchange={};","for(k in _ro){","_res.push(_.vlRes(\"@token\" + k, _ro[k].mv,\"C\",\"\",_ro[k].sd,_ro[k].N));","ToExchange[\"@exchangepath\"] = {}","ToExchange[\"@exchangepath\"].Caption=\"@exchangepath\";","ToExchange[\"@exchangepath\"].Type=\"@token\";","ToExchange[\"@exchangepath\"].Value = _ro.mv / @CONV;","ToExchange[\"@exchangepath\"].SdValue = _ro.sd / @CONV;","ToExchange[\"@exchangepath\"].Unit = \"mbar\";","}","Result=_res;"],"Defaults":{"@acc":"TCP","@host":"e75444","@port":1394,"@addr":"10","@unit":"C","@tempchan":"(@101:110)","@presschan":"(@201:203)","@channel":"101","@CR":"\n","@Twait":"1000","@Pwait":"500","@NT":"5","@NP":"10"}}},
{"id":"cob-dmm-se1_keithley","key":"SE1-DMM_Keithley-temperature_exec","value":{"TaskName":"SE1-DMM_Keithley-temperature_exec","Comment":"read out channel @tempchan","LogPriority":"3","Action":"@acc","Repeat":"@NT","Wait":"@Twait","Host":"@host","Port":"@port","DocPath":"Calibration.Measurement.Values.Temperature","Value":"READ?\n","PostProcessing":["var _ro =_.extractKeithleyTempScan(_x,\"@tempchan\"), _res = [], k,","ToExchange={};","for(k in _ro){","_res.push(_.vlRes(\"@token\" + k,_ro[k].mv,\"C\",\"\",_ro[k].sd,_ro[k].N))","ToExchange[\"Temperature_\" + k] = {}","ToExchange[\"Temperature_\" + k].Caption=\"Temperature Channel \" + k;","ToExchange[\"Temperature_\" + k].Type=\"@token\" + k;","ToExchange[\"Temperature_\" + k].Value = _ro[k].mv;","ToExchange[\"Temperature_\" + k].SdValue = _ro[k].sd;","ToExchange[\"Temperature_\" + k].Unit = \"C\";","}","Result=_res;"],"Defaults":{"@acc":"TCP","@host":"e75444","@port":1394,"@addr":"10","@unit":"C","@tempchan":"(@101:110)","@presschan":"(@201:203)","@channel":"101","@CR":"\n","@Twait":"1000","@Pwait":"500","@NT":"5","@NP":"10"}}},
{"id":"mpd-se1-calib","key":"SE1-expansion_prepaired","value":{"Action":"writeExchange","Comment":"Saves which expansion (valve setting) is prepaired ","TaskName":"SE1-expansion_prepaired","ExchangePath":"Prepaired_Expansion","Value":{"Value":"@expansion"}}},
{"id":"mpd-se1-calib","key":"SE1-input_element","value":{"Action":"writeExchange","Comment":"Add an element to the Exchange api","TaskName":"SE1-input_element","ExchangePath":"@exchpath","Values":{}}},
{"id":"mpd-se1-calib","key":"SE1-pressure_input","value":{"Action":"writeExchange","Comment":"Add an element to the Exchange api","TaskName":"SE1-pressure_input","ExchangePath":"@devicename-@inputtype","Value":{"Caption":"@caption @devicename","Type":"@type","Value":null,"SdValue":null,"N":null,"Unit":"mbar","Comment":"-","Ready":false}}},
{"id":"mpd-se1-calib","key":"SE1-read_aux_element","value":{"Action":"readExchange","Comment":"Reads values under @exchpath and writes it to @docpath.","TaskName":"SE1-read_aux_element","NoLog":true,"DocPath":"@docpath","ExchangePath":"@exchpath"}},
{"id":"mpd-se1-calib","key":"SE1-reset_ready","value":{"Action":"writeExchange","Comment":"resets a ready Element","TaskName":"SE1-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false}}},
{"id":"mpd-se1-calib","key":"SE1-run_container","value":{"Action":"ctrlContainer","Comment":"Starts ini Container","TaskName":"SE1-run_container","RunIf":"DocumentsOk.Ready","Value":{"1":"load;run","2":"load;run","5":"load;run"}}},
{"id":"cob-dmm-se2_keithley","key":"SE2_DMM_Keithley-device_init","value":{"TaskName":"SE2_DMM_Keithley-device_init","Comment":"Führt Initialisierungen aus","Action":"@acc","Host":"@host","Port":"@port","Values":{"syst":"SYST:PRES;*OPC?@CR","reset":"*RST;*OPC?@CR","trac_cl":"TRAC:CLE;*OPC?@CR","cont_ini_off":"INIT:CONT OFF;*OPC?@CR","trig_imm":"TRIG:SOUR IMM;*OPC?@CR","trig_coun":"TRIG:COUN 1;*OPC?@CR","samp_coun":"SAMP:COUN @sampcount;*OPC?@CR","rout_scan_t":"ROUT:SCAN @tempchan;*OPC?@CR","rout_tso":"ROUT:SCAN:TSO IMM;*OPC?@CR","rout_lsel":"ROUT:SCAN:LSEL INT;*OPC?@CR","trac_ao":"TRAC:CLE:AUTO OFF;*OPC?@CR","func_t":"FUNC 'TEMP', @tempchan;*OPC?@CR","func_v":"FUNC 'VOLT', @presschan;*OPC?@CR","temp_frtd":"TEMP:TRAN FRTD, @tempchan;*OPC?@CR","temp_typ":"TEMP:FRTD:TYPE PT100, @tempchan;*OPC?@CR","close":"ROUT:CLOS (@@channel);*OPC?@CR"},"PostProcessing":["ok= (_x == 1)?true:false;"],"Defaults":{"@host":"e75445","@port":1394,"@unit":"C","@acc":"TCP","@sampcount":10,"@tempchan":"(@101:110)","@channel":"101","@CR":"\n","@wait":"5000","@N":"10","@prefix":"keithleych","@sufix":""}}},
{"id":"cob-dmm-se2_keithley","key":"SE2_DMM_Keithley-temperature_exec","value":{"TaskName":"SE2_DMM_Keithley-temperature_exec","Comment":"read out channel @channel","LogPriority":"3","readTimeout":10000,"Action":"@acc","Repeat":"@N","Wait":"@wait","Host":"@host","Port":"@port","DocPath":"Calibration.Measurement.Values.Temperature","Values":{"read":"READ?@CR"},"PostProcessing":["var _ro =_.extractKeithleyTempScan(_x,'@tempchan'), _res = [], k;","for(k in _ro){","_res.push(_.vlRes('@prefix' + k + '@sufix',_ro[k].mv,'C'))","}","Result=_res;"],"Defaults":{"@host":"e75445","@port":1394,"@unit":"C","@acc":"TCP","@sampcount":10,"@tempchan":"(@101:110)","@channel":"101","@CR":"\n","@wait":"5000","@N":"10","@prefix":"keithleych","@sufix":""}}},
{"id":"mpd-se2-f","key":"SE2_f-reset_ready","value":{"Action":"writeExchange","Comment":"resets a ready Element","TaskName":"SE2_f-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false}}},
{"id":"mpd-dkm_ppc4-se2_qbs","key":"SE2_QBS-reset_ready","value":{"Action":"writeExchange","Comment":"resets a ready Element","TaskName":"SE2_QBS-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false}}},
{"id":"mpd-frs5-se2_qbs","key":"SE2_QBS-reset_ready","value":{"Action":"writeExchange","Comment":"resets a ready Element","TaskName":"SE2_QBS-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false}}},
{"id":"mpd-dkm_ppc4-se2_qbs","key":"SE2_QBS-run_container","value":{"Action":"ctrlContainer","Comment":"Starts ini Container","TaskName":"SE2_QBS-run_container","RunIf":"DocumentsOk.Ready","Value":{"1":"load","2":"load","3":"load"}}},
{"id":"mpd-frs5-se2_qbs","key":"SE2_QBS-run_container","value":{"Action":"ctrlContainer","Comment":"Starts ini Container","TaskName":"SE2_QBS-run_container","RunIf":"DocumentsOk.Ready","Value":{"1":"load","2":"load","3":"load"}}},
{"id":"cob-qbs-se2_ruska","key":"SE2_Ruska-init","value":{"TaskName":"SE2_Ruska-init","Comment":"initialisiert Ruska","Action":"@acc","Host":"@host","Device":"@device","Values":{"meas_mode":"OUTP:MODE MEAS@CR*OPC?@CR","ctrl_mode":"OUTP:MODE CONT@CR*OPC?@CR","set_pressure":"SOURCE:PRES @target@CR*OPC?@CR","set_zero":"SOURCE:PRES 0.0@CR*OPC?@CR"},"PostProcessing":["ok = _x ?true:false;"],"Value":"OUTP:MODE MEAS@CR*OPC?@CR","Defaults":{"@unit":"Pa","@host":"e75416","@device":"gpib0,4","@acc":"VXI11","@token":"fill","@target":"0.1","@exchpath":"SE2_Ruska","@docpath":"Calibration.Measurement.Values.Pressure","@CR":"\n"}}},
{"id":"cob-qbs-se2_ruska","key":"SE2_Ruska-pressure_exec","value":{"TaskName":"SE2_Ruska-pressure_exec","Comment":"Messung des Ruska 7010","Action":"@acc","Host":"@host","DocPath":"@docpath","Device":"@device","Repeat":"31","Wait":"500","Value":"MEAS:PRES?@CR","PostProcessing":["var _tmp = _x.map(function(i){ return(parseFloat(i));});","_tmp.shift();","var _res = _.vlStat(_.checkNumArr(_tmp).Arr),","Result=[_.vlRes('@token',_res.mv,'kPa', '', _res.sd,_res.N )],","ToExchange={","'@exchpath.Value':_res.mv,","'@exchpath.SdValue':_res.sd,","'@exchpath.N':_res.N,","'@exchpath.Unit':'kPa',","'@exchpath.Type':'@token'","};"],"Defaults":{"@unit":"Pa","@host":"e75416","@device":"gpib0,4","@acc":"VXI11","@token":"fill","@target":"0.1","@exchpath":"SE2_Ruska","@docpath":"Calibration.Measurement.Values.Pressure","@CR":"\n"}}},
{"id":"cob-cdg-se3_add_volume","key":"SE3_ADDVOL_CDG-ctrl","value":{"TaskName":"SE3_ADDVOL_CDG-ctrl","Address":0,"Quantity":125,"FunctionCode":"ReadInputRegisters","OutMode":"Buffer","Action":"@acc","Host":"@host","Repeat":20,"Wait":1000,"FromExchange":{"@pressuretarget":"Pressure_fill.Value"},"PostScriptInput":{"TargetUnit":"Pa","TargetPressure":"@pressuretarget"},"PostScript":"gn_se3.anybus-add-ctrl","StopIf":"Pressure_fill_ok.Bool","PostProcessing":["var _vec = [];","for(var i=0; i < _x.length; i++){","_vec.push(_.readAnybusGw(_x[i], 1, 16)[15]);","}","_res = _.vlStat(_.checkNumArr(_vec).Arr);","var _pist_pa = _res.mv * 100;","var _target_pa = @pressuretarget","var ToExchange = {'Pressure_fill_check':{'Value':_pist_pa, 'Unit':'Pa', 'Type':'fill_check'},","'Pressure_fill_ok': {'Bool':(_pist_pa && (_pist_pa > _target_pa * (1 - 0.02)) &&  (_pist_pa < _target_pa * (1 + 0.02)) )}","};"],"Defaults":{"@host":"e75480","@acc":"MODBUS","@wait":500,"@repeat":20,"@CR":"\n","@enam":"Pressure_add_volume","@docpath":"Measurement.Values.Pressure"}}},
{"id":"cob-cdg-se3_add_volume","key":"SE3_ADDVOL_CDG-pressure_loss","value":{"TaskName":"SE3_ADDVOL_CDG-pressure_loss","Address":0,"Quantity":125,"FunctionCode":"ReadInputRegisters","OutMode":"Buffer","Action":"@acc","Repeat":300,"Wait":1000,"Host":"@host","DocPath":"@docpath","PostProcessing":["var _vec = [];","for(var i=0; i < _x.length; i++){","_vec.push(_.readAnybusGw(_x[i], 1, 16)[15]);","}","var _ret =_.checkNumArr(_vec);","var _t0 = _.rmByIndex(_t_start,_ret.Skip);","var _t1 = _.rmByIndex(_t_stop,_ret.Skip);","_res = _.vlSlope(_ret.Arr, _t0, _t1);","var Result = [ _.vlRes('loss_slope_x', _res.bx, 'mbar/ms')];","var LogData={'vec':_vec, 't_start':_t_start, 't_stop':_t_stop}"],"Defaults":{"@host":"e75480","@acc":"MODBUS","@wait":500,"@repeat":20,"@CR":"\n","@enam":"Pressure_add_volume","@docpath":"Measurement.Values.Pressure"}}},
{"id":"cob-cdg-se3_add_volume","key":"SE3_ADDVOL_CDG-read_out","value":{"TaskName":"SE3_ADDVOL_CDG-read_out","Address":0,"Quantity":125,"FunctionCode":"ReadInputRegisters","OutMode":"Buffer","Action":"@acc","Repeat":10,"Wait":1000,"Host":"@host","DocPath":"@docpath","PostProcessing":["var _vec = [];","for(var i=0; i < _x.length; i++){","_vec.push(_.readAnybusGw(_x[i], 1, 16)[15]);","}","var _res = _.vlStat(_vec);","var Result=[_.vlRes('@token',_res.mv * 100,'Pa', '',_res.sd * 100, _res.N)];","var ToExchange={","'@enam.Caption':'@enam','@enam.Type':'@token',","'@enam.Value':_res.mv*100,","'@enam.SdValue':_res.sd*100,","'@enam.N':_res.N,'@enam.Unit':'Pa'","};"],"Defaults":{"@host":"e75480","@acc":"MODBUS","@wait":500,"@repeat":20,"@CR":"\n","@enam":"Pressure_add_volume","@docpath":"Measurement.Values.Pressure"}}},
{"id":"mpd-se3-calib","key":"SE3_calibration-cal_analysis_expansion","value":{"Action":"EXECUTE","Comment":"calculates the calibration analysis","TaskName":"SE3_calibration-cal_analysis_expansion","FromExchange":{"@ids":"Ids"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/se3/cal_analysis_expansion.py --db vl_db_work --ids @ids -s -u -a'","PostProcessing":["var ret = _x;","var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-se3-cmp_calib","key":"SE3_calibration-cal_analysis_expansion","value":{"Action":"EXECUTE","Comment":"calculates the calibration analysis","TaskName":"SE3_calibration-cal_analysis_expansion","FromExchange":{"@ids":"Ids"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/se3/cal_analysis_expansion.py --db vl_db_work --ids @ids -s -u -a'","PostProcessing":["var ret = _x;","var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-se3-calib","key":"SE3_calibration-calculate_filling_pressure","value":{"Action":"EXECUTE","Comment":"calculates the filling pressure from given target pressure","TaskName":"SE3_calibration-calculate_filling_pressure","RunIf":"Continue_mesaurement.Bool","FromExchange":{"@target_pressure":"Target_pressure.Selected","@target_unit":"Target_pressure.Unit"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/se3/cal_filling_pressure.py --target_pressure @target_pressure --pressure_unit @target_unit'","PostProcessing":["var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-se3-cmp_calib","key":"SE3_calibration-calculate_filling_pressure","value":{"Action":"EXECUTE","Comment":"calculates the filling pressure from given target pressure","TaskName":"SE3_calibration-calculate_filling_pressure","RunIf":"Continue_mesaurement.Bool","FromExchange":{"@target_pressure":"Target_pressure.Selected","@target_unit":"Target_pressure.Unit"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/se3/cal_filling_pressure.py --target_pressure @target_pressure --pressure_unit @target_unit'","PostProcessing":["var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-se3-calib","key":"SE3_calibration-check_analysis","value":{"Action":"EXECUTE","Comment":"checks the calibration analysis values","TaskName":"SE3_calibration-check_analysis","FromExchange":{"@ids":"Ids"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/se3/check_analysis.py  --db vl_db_work --ids @ids -s'","PostProcessing":["var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-se3-calib","key":"SE3_calibration-reset_ready","value":{"Action":"writeExchange","Comment":"resets a ready Element","TaskName":"SE3_calibration-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false}}},
{"id":"mpd-se3-cmp_calib","key":"SE3_calibration-reset_ready","value":{"Action":"writeExchange","Comment":"resets a ready Element","TaskName":"SE3_calibration-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false}}},
{"id":"mpd-se3-calib","key":"SE3_calibration-run_container","value":{"Action":"ctrlContainer","Comment":"Restarts the measurement container if Continue_mesaurement.Bool is true. In order to refresh the calibration ids >>stop;..<< at the beginning of the value is crutial.","TaskName":"SE3_calibration-run_container","Value":{"2":"stop;load;run"}}},
{"id":"mpd-se3-cmp_calib","key":"SE3_calibration-run_container","value":{"Action":"ctrlContainer","Comment":"Restarts the measurement container if Continue_mesaurement.Bool is true. In order to refresh the calibration ids >>stop;..<< at the beginning of the value is crutial.","TaskName":"SE3_calibration-run_container","Value":{"2":"stop;load;run"}}},
{"id":"mpd-se3-calib","key":"SE3_calibration-shape_todo","value":{"Action":"EXECUTE","Comment":"shape todo values to fit the expansion range.","TaskName":"SE3_calibration-shape_todo","FromExchange":{"@ids":"Ids"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/se3/shape_todo.py --min_pressure 0.0001 --max_pressure 130 --pressure_unit Pa  --db vl_db_work --ids @ids -s'","PostProcessing":["var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-se3-cmp_calib","key":"SE3_calibration-shape_todo","value":{"Action":"EXECUTE","Comment":"shape todo values to fit the expansion range.","TaskName":"SE3_calibration-shape_todo","FromExchange":{"@ids":"Ids"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/se3/shape_todo.py --min_pressure 0.0001 --max_pressure 130 --pressure_unit Pa  --db vl_db_work --ids @ids -s'","PostProcessing":["var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-se3-cdg_calib_ppc4_dkm","key":"SE3_CDG-reset_ready","value":{"Action":"writeExchange","Comment":"resets a ready Element","TaskName":"SE3_CDG-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false}}},
{"id":"mpd-se3-cdg_calib_ppc4_dkm","key":"SE3_CDG-run_container","value":{"Action":"ctrlContainer","Comment":"Starts ini Container","TaskName":"SE3_CDG-run_container","RunIf":"DocumentsOk.Ready","Value":{"1":"load","2":"load","3":"load"}}},
{"id":"mpd-se3-cmp_state","key":"SE3_CMP_state-eval_state","value":{"Action":"EXECUTE","Comment":"evaluates the measured values by means of vpy","TaskName":"SE3_CMP_state-eval_state","Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy && source bin/activate && python script/se3/eval_state_doc.py -s --db vl_db_work '"}},
{"id":"mpd-se3-cmp_state","key":"SE3_CMP_state-gen_state_doc","value":{"Action":"genDbDoc","Comment":"generates a state doc for storing results","TaskName":"SE3_CMP_state-gen_state_doc","Value":{"_id":"state-se3_@year@month@day","State":{"Measurement":{"Date":[{"Type":"generated","Value":"@year-@month-@day @hour:@minute:@second"}],"AuxValues":{},"Values":{}}}}}},
{"id":"mpd-se3-cmp_direct","key":"SE3_direct-cal_analysis_direct","value":{"Action":"EXECUTE","Comment":"calculates the calibration analysis","TaskName":"SE3_direct-cal_analysis_direct","FromExchange":{"@ids":"Ids"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/se3/cal_analysis_direct.py --db vl_db_work --ids @ids -s -u'","PostProcessing":["var ret = _x;","var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-se3-direct","key":"SE3_direct-cal_analysis_direct","value":{"Action":"EXECUTE","Comment":"calculates the calibration analysis","TaskName":"SE3_direct-cal_analysis_direct","FromExchange":{"@ids":"Ids"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/se3/cal_analysis_direct.py --db vl_db_work --ids @ids -s -u'","PostProcessing":["var ret = _x;","var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-se3-cmp_direct","key":"SE3_direct-calculate_compare_pressure","value":{"Action":"EXECUTE","Comment":"returns the compare pressure from given target pressure ","TaskName":"SE3_direct-calculate_compare_pressure","RunIf":"Continue_mesaurement.Bool","FromExchange":{"@target_pressure":"Target_pressure.Selected","@target_unit":"Target_pressure.Unit"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/se3/cal_compare_pressure.py --target_pressure @target_pressure --pressure_unit @target_unit'","PostProcessing":["var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-se3-direct","key":"SE3_direct-calculate_compare_pressure","value":{"Action":"EXECUTE","Comment":"returns the compare pressure from given target pressure ","TaskName":"SE3_direct-calculate_compare_pressure","RunIf":"Continue_mesaurement.Bool","FromExchange":{"@target_pressure":"Target_pressure.Selected","@target_unit":"Target_pressure.Unit"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/se3/cal_compare_pressure.py --target_pressure @target_pressure --pressure_unit @target_unit'","PostProcessing":["var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-se3-cmp_direct","key":"SE3_direct-reset_ready","value":{"Action":"writeExchange","Comment":"resets a ready Element","TaskName":"SE3_direct-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false}}},
{"id":"mpd-se3-direct","key":"SE3_direct-reset_ready","value":{"Action":"writeExchange","Comment":"resets a ready Element","TaskName":"SE3_direct-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false}}},
{"id":"mpd-se3-direct","key":"SE3_direct-run_container","value":{"Action":"ctrlContainer","Comment":"Restarts the measurement container if Continue_mesaurement.Bool is true","TaskName":"SE3_direct-run_container","Value":{"2":"stop;load;run"}}},
{"id":"mpd-se3-cmp_direct","key":"SE3_direct-shape_todo","value":{"Action":"EXECUTE","Comment":"shape todo values to fit the direct comparison.","TaskName":"SE3_direct-shape_todo","FromExchange":{"@ids":"Ids"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/se3/shape_todo.py --min_pressure 100.0 --max_pressure 133322 --pressure_unit Pa  --db vl_db_work --ids @ids -s'","PostProcessing":["var ToExchange = JSON.parse(_x);"]}},
{"id":"mpd-se3-direct","key":"SE3_direct-shape_todo","value":{"Action":"EXECUTE","Comment":"shape todo values to fit the direct comparison.","TaskName":"SE3_direct-shape_todo","FromExchange":{"@ids":"Ids"},"Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy/ && source bin/activate && python script/se3/shape_todo.py --min_pressure 133.322 --max_pressure 133322 --pressure_unit Pa  --db vl_db_work --ids @ids -s'","PostProcessing":["var ToExchange = JSON.parse(_x);"]}},
{"id":"cob-dmm-se3_env_keithley","key":"SE3_DMM_Keithley_ENV-read_humidity","value":{"TaskName":"SE3_DMM_Keithley_ENV-read_humidity","Comment":"read the relative humidity","Action":"@acc","Host":"@host","DocPath":"Calibration.Measurement.AuxValues.Humidity","Port":"@port","Value":"h()\n","PostProcessing":["var _mv= parseFloat(_x.split(\",\")[0]);","var _sd= parseFloat(_x.split(\",\")[1]);","var _n= parseFloat(_x.split(\",\")[2]);","Result=[_.vlRes(\"rel\",_mv,\"V\",\"\",_sd, _n)];"],"Defaults":{"@host":"e75496","@port":"5025","@acc":"TCP"}}},
{"id":"cob-dmm-se3_env_keithley","key":"SE3_DMM_Keithley_ENV-read_room_temp","value":{"TaskName":"SE3_DMM_Keithley_ENV-read_room_temp","Comment":"read the room temperature","Action":"@acc","Host":"@host","DocPath":"Calibration.Measurement.AuxValues.Temperature","Port":"@port","Value":"room()\n","PostProcessing":["var _mv= parseFloat(_x.split(\",\")[0]);","var _sd= parseFloat(_x.split(\",\")[1]);","var _n= parseFloat(_x.split(\",\")[2]);","Result=[_.vlRes(\"room\",_mv,\"C\",\"\",_sd, _n)];"],"Defaults":{"@host":"e75496","@port":"5025","@acc":"TCP"}}},
{"id":"mpd-se3-f_l","key":"SE3_fl-reset_ready","value":{"Action":"writeExchange","Comment":"resets a ready Element","TaskName":"SE3_fl-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false}}},
{"id":"mpd-se3-f_m","key":"SE3_fm-reset_ready","value":{"Action":"writeExchange","Comment":"resets a ready Element","TaskName":"SE3_fm-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false}}},
{"id":"mpd-se3-f_s","key":"SE3_fs-reset_ready","value":{"Action":"writeExchange","Comment":"resets a ready Element","TaskName":"SE3_fs-reset_ready","ExchangePath":"@exchpath","Value":{"Ready":false}}},
{"id":"cob-cdg-se3_new_add_volume","key":"SE3_NEW_ADDVOL_CDG-ctrl","value":{"TaskName":"SE3_NEW_ADDVOL_CDG-ctrl","Address":0,"Quantity":68,"FunctionCode":"ReadInputRegisters","OutMode":"Buffer","Action":"@acc","Host":"@host","Repeat":20,"Wait":1000,"FromExchange":{"@pressuretarget":"Pressure_fill.Value"},"PostScriptInput":{"TargetUnit":"Pa","TargetPressure":"@pressuretarget"},"PostScript":"gn_se3.anybus-add-ctrl","StopIf":"Pressure_fill_ok.Bool","Defaults":{"@host":"e75480","@acc":"MODBUS","@wait":500,"@repeat":20,"@CR":"\n","@enam":"Pressure_add_volume","@docpath":"Measurement.Values.Pressure"}}},
{"id":"cob-cdg-se3_new_add_volume","key":"SE3_NEW_ADDVOL_CDG-pressure_loss","value":{"TaskName":"SE3_NEW_ADDVOL_CDG-pressure_loss","Address":0,"Quantity":68,"FunctionCode":"ReadInputRegisters","OutMode":"Buffer","Action":"@acc","Repeat":300,"Wait":1000,"Host":"@host","DocPath":"@docpath","PostScriptInput":{"Type":"loss"},"PostScript":"gn_se3.anybus-add-loss","Defaults":{"@host":"e75480","@acc":"MODBUS","@wait":500,"@repeat":20,"@CR":"\n","@enam":"Pressure_add_volume","@docpath":"Measurement.Values.Pressure"}}},
{"id":"cob-cdg-se3_new_add_volume","key":"SE3_NEW_ADDVOL_CDG-read_out","value":{"TaskName":"SE3_NEW_ADDVOL_CDG-read_out","Address":0,"Quantity":68,"FunctionCode":"ReadInputRegisters","OutMode":"Buffer","Action":"@acc","Repeat":10,"Wait":1000,"Host":"@host","DocPath":"@docpath","PostScriptInput":{"Unit":"Pa","Type":"@token"},"PostScript":"gn_se3.anybus-add-read","Defaults":{"@host":"e75480","@acc":"MODBUS","@wait":500,"@repeat":20,"@CR":"\n","@enam":"Pressure_add_volume","@docpath":"Measurement.Values.Pressure"}}},
{"id":"cob-dmm-se3_new_temperature_keithley","key":"SE3_NEW_Temperature_Keithley-display","value":{"TaskName":"SE3_NEW_Temperature_Keithley-display","Comment":"display test","LogPriority":"3","Action":"@acc","Host":"@host","Port":"@port","Value":"display.clear() display.settext(\"@text\") print(\"@text\")","PostProcessing":["ok= _x;"],"Defaults":{"@CR":"\n","@host":"e75440","@port":5025,"@acc":"TCP","@docpath":"Calibration.Measurement.Values.Temperature","@slot":1,"@token":"","@cmd":"tempscan()"}}},
{"id":"cob-dmm-se3_new_temperature_keithley","key":"SE3_NEW_Temperature_Keithley-exec","value":{"TaskName":"SE3_NEW_Temperature_Keithley-exec","Comment":"Temperaturmessung","LogPriority":"3","Action":"@acc","Host":"@host","VxiTimeout":90000,"DocPath":"@docpath","Port":"@port","Value":"@cmd@CR","PostProcessing":["var _res = _x.trim().split(';'), _chobj = {}, Result = [], ToExchange = {};","for(var _i = 0; _i < _res.length; _i++){","var _both = _res[_i].split(':'),","_channel = _both[0].replace('+',''),","_value = parseFloat(_both[1]);","if(_chobj[_channel]){","_chobj[_channel].push(_value);","}else{","_chobj[_channel] = [_value];","}","}","for(var _j in _chobj){","_tmst = _.vlStat(_chobj[_j]);","Result.push(_.vlRes('ch_' + _j + '@token', _tmst.mv, 'C', false, _tmst.sd, _tmst.N));","_exkey ='KeithleyCh' + _j+ '@token';","ToExchange[_exkey] = {Value:_tmst.mv,"," Unit:'C', "," SdValue:_tmst.sd, "," N:_tmst.N, ","Type:'channel_' + _j};","};","var LogData={'x':_x}"],"Defaults":{"@CR":"\n","@host":"e75440","@port":5025,"@acc":"TCP","@docpath":"Calibration.Measurement.Values.Temperature","@slot":1,"@token":"","@cmd":"tempscan()"}}},
{"id":"cob-dmm-se3_new_temperature_keithley","key":"SE3_NEW_Temperature_Keithley-is_ready","value":{"TaskName":"SE3_NEW_Temperature_Keithley-is_ready","Comment":"checkt Ansprechbarkeit der Karte @slot","LogPriority":"3","Action":"@acc","Host":"@host","Port":"@port","Value":"print(slot[@slot].idn)","PostProcessing":["ok= (_x.substr(0,4) == '3720')?true:false;"],"Defaults":{"@CR":"\n","@host":"e75440","@port":5025,"@acc":"TCP","@docpath":"Calibration.Measurement.Values.Temperature","@slot":1,"@token":"","@cmd":"tempscan()"}}},
{"id":"cob-ppc-se3","key":"SE3_PPC4-exec","value":{"TaskName":"SE3_PPC4-exec","Comment":"@descr","Action":"@acc","Host":"@host","Port":"@port","Repeat":10,"Wait":1000,"DocPath":"@docpath","Value":"QPRR?@CR","PostProcessing":["var _vec = _x.map(_.extractPPC);","_N = _vec.length,","_redvec = _vec.splice(@skip - 1 , _N - 1), ","_res = _.vlStat(_.checkNumArr(_redvec).Arr),","Result=[_.vlRes('@token',_res.mv,'mbar', '', _res.sd,_res.N)],","ToExchange={","'@exchpath.Value':_res.mv,","'@exchpath.Unit':'Pa',","'@exchpath.Type':'@token'","};"],"Defaults":{"@descr":"Auslesen des Druckwerts","@acc":"TCP","@port":"5302","@CR":"\r","@host":"e75436","@cmd":"*CLS?\r","@token":"ppc","@exchpath":"SE3_PPC4","@docpath":"Calibration.Measurement.Values.Pressure"}}},
{"id":"cob-ppc-se3","key":"SE3_PPC4-init","value":{"TaskName":"SE3_PPC4-init","Comment":"Initialisiert PPC","Action":"@acc","Host":"@host","Port":"@port","Values":{"stop":"ABORT@CR","clear":"*CLS@CR","set_pa":"UNIT PA@CR","set_static":"MODE 0@CR","set_dynamic":"MODE 1@CR"},"Value":"*CLS","PostProcessing":["ok = _x ?true:false;"],"Defaults":{"@descr":"Auslesen des Druckwerts","@acc":"TCP","@port":"5302","@CR":"\r","@host":"e75436","@cmd":"*CLS?\r","@token":"ppc","@exchpath":"SE3_PPC4","@docpath":"Calibration.Measurement.Values.Pressure"}}},
{"id":"cob-ppc-se3","key":"SE3_PPC4-set_compare_pressure","value":{"TaskName":"SE3_PPC4-set_compare_pressure","Comment":"Sets the compare pressure: @pressuretarget Pa","Action":"@acc","Host":"@host","Port":"@port","Repeat":2,"FromExchange":{"@pressuretarget":"Pressure_compare.Value"},"Wait":20000,"StopIf":"Pressure_compare_ok.Bool","Value":"PS @pressuretarget, 2250@CR","PostProcessing":["ok = _x ?true:false;"],"Defaults":{"@descr":"Auslesen des Druckwerts","@acc":"TCP","@port":"5302","@CR":"\r","@host":"e75436","@cmd":"*CLS?\r","@token":"ppc","@exchpath":"SE3_PPC4","@docpath":"Calibration.Measurement.Values.Pressure"}}},
{"id":"cob-ppc-se3","key":"SE3_PPC4-set_filling_pressure","value":{"TaskName":"SE3_PPC4-set_filling_pressure","Comment":"Sets the filling pressure: @pressuretarget Pa","Action":"@acc","Host":"@host","Port":"@port","Repeat":2,"FromExchange":{"@pressuretarget":"Pressure_fill.Value"},"Wait":20000,"StopIf":"Pressure_fill_ok.Bool","Value":"PS @pressuretarget, 2250@CR","PostProcessing":["ok = _x ?true:false;"],"Defaults":{"@descr":"Auslesen des Druckwerts","@acc":"TCP","@port":"5302","@CR":"\r","@host":"e75436","@cmd":"*CLS?\r","@token":"ppc","@exchpath":"SE3_PPC4","@docpath":"Calibration.Measurement.Values.Pressure"}}},
{"id":"aob-motor-se3_servo","key":"SE3_Servo-get_pos","value":{"TaskName":"SE3_Servo-get_pos","Comment":"Liefert die Position","Action":"TCP","Host":"@host","Port":"@port","PostScriptInput":{"Motor":"@motor"},"PostScript":"servo-se3.get-pos","Value":"@motorPOS@CR","Defaults":{"@CR":"\r","@host":"e75443","@port":"5300","@serial":"311500509","@peakcurrent":"950","@contcurrent":"600","@velo":"100","@slowspeed":"80","@fastspeed":"800","@motor":"1","@minv":40}}},
{"id":"aob-motor-se3_servo","key":"SE3_Servo-ini","value":{"TaskName":"SE3_Servo-ini","Comment":"Initialisierung & Einstellung des Motors @motor.","Action":"TCP","Host":"@host","Port":"@port","PostScriptInput":{"Motor":"@motor"},"PostScript":"servo-se3.resp-ok","Values":{"rs232":"@motorSOR0@CR","answerOk":"@motorANSW2@CR","peakCurrent":"@motorLPC@peakcurrent@CR","contCurrent":"@motorLCC@contcurrent@CR","enable":"@motorEN@CR","disable":"@motorDI@CR","homepos":"@motorHO@CR","medramp":"@motorSP800@CR","setopenpos":"@motorLA2700000@CR","defopenpos":"@motorHO2700000@CR","setmediumpos":"@motorLA300000@CR","go":"@motorM@CR"},"Defaults":{"@CR":"\r","@host":"e75443","@port":"5300","@serial":"311500509","@peakcurrent":"950","@contcurrent":"600","@velo":"100","@slowspeed":"80","@fastspeed":"800","@motor":"1","@minv":40}}},
{"id":"aob-motor-se3_servo","key":"SE3_Servo-meas_velo","value":{"TaskName":"SE3_Servo-meas_velo","Comment":"Misst Geschwindigkeit des Motors: @motor; Beendet sich falls Geschwindigkeit unter @minv rpm fällt.","Action":"TCP","Host":"@host","Port":"@port","StopIf":"Servo_@motor_Stop.Bool","Wait":"500","Value":"@motorGN@CR","PostScriptInput":{"Motor":"@motor","MinVelo":"@minv"},"PostScript":"servo-se3.meas-velo","Defaults":{"@CR":"\r","@host":"e75443","@port":"5300","@serial":"311500509","@peakcurrent":"950","@contcurrent":"600","@velo":"100","@slowspeed":"80","@fastspeed":"800","@motor":"1","@minv":40}}},
{"id":"aob-motor-se3_servo","key":"SE3_Servo-set_velo","value":{"TaskName":"SE3_Servo-set_velo","Comment":"Setzt Motor:@motor Geschwindigkeit auf @velo rpm","Action":"TCP","Host":"@host","Port":"@port","PostScriptInput":{"Motor":"@motor","Velo":"@velo"},"PostScript":"servo-se3.set-velo","Value":"@motorV@velo@CR","Defaults":{"@CR":"\r","@host":"e75443","@port":"5300","@serial":"311500509","@peakcurrent":"950","@contcurrent":"600","@velo":"100","@slowspeed":"80","@fastspeed":"800","@motor":"1","@minv":40}}},
{"id":"mpd-se3-state","key":"SE3_state-eval_state","value":{"Action":"EXECUTE","Comment":"evaluates the measured values by means of vpy","TaskName":"SE3_state-eval_state","Cmd":"/bin/bash -l -c 'cd /home/bock04/vpy && source bin/activate && python script/se3/eval_state_doc.py -s --db vl_db_work '"}},
{"id":"cob-dmm-se3_temperature_keithley","key":"SE3_Temperature_Keithley-display","value":{"TaskName":"SE3_Temperature_Keithley-display","Comment":"display test","LogPriority":"3","Action":"@acc","Host":"@host","Device":"@device","Value":"display.clear() display.settext(\"@text\") print(\"@text\")","PostProcessing":["ok= _x;"],"Defaults":{"@CR":"\n","@host":"e75440","@device":"inst0","@acc":"VXI11","@docpath":"Calibration.Measurement.Values.Temperature","@slot":1,"@token":"","@cmd":"tempscan()"}}},
{"id":"cob-dmm-se3_temperature_keithley","key":"SE3_Temperature_Keithley-exec","value":{"TaskName":"SE3_Temperature_Keithley-exec","Comment":"Temperaturmessung","LogPriority":"3","Action":"@acc","Host":"@host","VxiTimeout":90000,"DocPath":"@docpath","Device":"@device","Value":"@cmd@CR","PostProcessing":["var _res = _x.trim().split(';'), _chobj = {}, Result = [], ToExchange = {};","for(var _i = 0; _i < _res.length; _i++){","var _both = _res[_i].split(':'),","_channel = _both[0].replace('+',''),","_value = parseFloat(_both[1]);","if(_chobj[_channel]){","_chobj[_channel].push(_value);","}else{","_chobj[_channel] = [_value];","}","}","for(var _j in _chobj){","_tmst = _.vlStat(_chobj[_j]);","Result.push(_.vlRes('ch_' + _j + '@token', _tmst.mv, 'C', false, _tmst.sd, _tmst.N));","_exkey ='KeithleyCh' + _j+ '@token';","ToExchange[_exkey] = {Value:_tmst.mv,"," Unit:'C', "," SdValue:_tmst.sd, "," N:_tmst.N, ","Type:'channel_' + _j};","};","var LogData={'x':_x}"],"Defaults":{"@CR":"\n","@host":"e75440","@device":"inst0","@acc":"VXI11","@docpath":"Calibration.Measurement.Values.Temperature","@slot":1,"@token":"","@cmd":"tempscan()"}}},
{"id":"cob-dmm-se3_temperature_keithley","key":"SE3_Temperature_Keithley-is_ready","value":{"TaskName":"SE3_Temperature_Keithley-is_ready","Comment":"checkt Ansprechbarkeit der Karte @slot","LogPriority":"3","Action":"@acc","Host":"@host","Device":"@device","Value":"print(slot[@slot].idn)","PostProcessing":["ok= (_x.substr(0,4) == '3720')?true:false;"],"Defaults":{"@CR":"\n","@host":"e75440","@device":"inst0","@acc":"VXI11","@docpath":"Calibration.Measurement.Values.Temperature","@slot":1,"@token":"","@cmd":"tempscan()"}}},
{"id":"aob-ctrl_cdg_vacom_atmigraph","key":"VACOM_ATMIGRAPH100-read_out_10003","value":{"TaskName":"VACOM_ATMIGRAPH100-read_out_10003","Comment":"Auslese des Geräts","Action":"TCP","Repeat":"1","Wait":"500","Host":"e75493","Port":"10003","Value":"2011","PreProcessing":"_x.Value=_.encodeVACOM(_x.Value);","PostProcessing":["var _vec=_x.map(_.decodeVACOMstring).map(parseFloat),","_res = _.vlStat(_.checkNumArr(_vec).Arr),","Result=[_.vlRes('ind',_res.mv,'Pa', '', _res.sd, _res.N)];"],"Defaults":{"@host":"e75493","@port":"10003","@acc":"TCP","@waittime":500,"@repeat":5,"@token":"ind"}}},
{"id":"aob-ctrl_cdg_vacom_atmigraph","key":"VACOM_ATMIGRAPH100-read_out_10004","value":{"TaskName":"VACOM_ATMIGRAPH100-read_out_10004","Comment":"Auslese des Geräts","Action":"TCP","Repeat":"1","Wait":"500","Host":"e75493","Port":"10004","Value":"2011","PreProcessing":"_x.Value=_.encodeVACOM(_x.Value);","PostProcessing":["var _vec=_x.map(_.decodeVACOMstring).map(parseFloat),","_res = _.vlStat(_.checkNumArr(_vec).Arr),","Result=[_.vlRes('ind',_res.mv,'Pa', '', _res.sd, _res.N)];"],"Defaults":{"@host":"e75493","@port":"10003","@acc":"TCP","@waittime":500,"@repeat":5,"@token":"ind"}}},
{"id":"aob-ctrl-srg_vm212","key":"VM212-frequency","value":{"TaskName":"VM212-frequency","Comment":"VXI-Kommunikation:","Action":"@acc","Host":"@host","Device":"@device","Value":"","DocPath":"Calibration.Measurement.Values.Frequency","PostProcessing":["_tmp =_x.split(\"FRQ \")","var Result=[_.vlRes(\"ind\",_tmp[1]? parseFloat(_tmp[1]):null,\"Hz\")];"],"Defaults":{"@n":10,"@repeat":5,"@waittime":30000,"@unit":"DCR","@host":"e75465","@device":"gpib0,26","@acc":"VXI11","@CR":"\n"}}},
{"id":"aob-ctrl-srg_vm212","key":"VM212-ini","value":{"TaskName":"VM212-ini","Comment":"VXI-Kommunikation: init u. exec SRG in _2 mit _1 Messzeit","Action":"@acc","Host":"@host","Device":"@device","Values":{"base":"MTI W1,@n@CRDIS W1,@unit@CRnRUN W1@CR","pressure":"VAL R@CR","frequency":"FRQ R@CR"},"Defaults":{"@n":10,"@repeat":5,"@waittime":30000,"@unit":"DCR","@host":"e75465","@device":"gpib0,26","@acc":"VXI11","@CR":"\n"}}},
{"id":"aob-ctrl-srg_vm212","key":"VM212-read_out","value":{"TaskName":"VM212-read_out","Comment":"VXI-Kommunikation:","Action":"@acc","Host":"@host","Repeat":"@repeat","Wait":"@waittime","DocPath":"%docpath%","Device":"@device","Value":"","PostProcessing":["_x.shift();","var _vec =_x.map(_.extractVM212DCR).map(parseFloat),","_res = _.vlStat(_.checkNumArr(_vec).Arr),","Result=[_.vlRes(\"@token\",_res.mv,\"@unit\",\"\",_res.sd,_res.N)],","_res = _.vlStat(_.checkNumArr(_vec).Arr),","ToExchange={\"@exchpath\":{\"Value\":_res.mv,","\"SdValue\":_res.sd,","\"N\":_res.N,","\"Unit\":\"@unit\",","\"Type\":\"@token\"","}};"],"Defaults":{"@n":10,"@repeat":5,"@waittime":30000,"@unit":"DCR","@host":"e75465","@device":"gpib0,26","@acc":"VXI11","@CR":"\n"}}},
{"id":"aob-ctrl-vs_ce3","key":"VS_CE3-ctrl_valve","value":{"TaskName":"VS_CE3-ctrl_valve","Comment":"Öffnet/schliest Ventile.","Action":"@acc","Host":"@host","Port":"@port","Values":{"open_V10":"o10@CR","close_V10":"c10@CR","open_V11":"o11@CR","close_V11":"c11@CR","close_VTMP":"ctp@CR","open_VTMP":"otp@CR","close_V21":"c21@CR","open_V21":"o21@CR","close_V22":"c22@CR","open_V22":"o22@CR"},"PostProcessing":["var _ok = _x.substr(0, 2) == \"ok\";","var ToExchange={\"@exchpath\":{\"Bool\":_ok}};","if(!_ok) var error=_x;"],"RunIfs":{"V11_ok":"V11_ok.Bool","V10_ok":"V10_ok.Bool"},"Defaults":{"@host":"172.30.56.52","@port":"9009","@CR":"\n","@acc":"TCP","@exchpath":"VS_CE3"}}},
{"id":"aob-ctrl-vs_ce3","key":"VS_CE3-device_ini","value":{"TaskName":"VS_CE3-device_ini","Comment":"Checks if the device is ready.","Action":"@acc","Host":"@host","Port":"@port","Value":"rdy@CR","PostProcessing":["var _ok = _x.substr(0, 2) == \"ok\";","var ToExchange={\"@exchpath\":{\"Bool\":_ok}};","if(!_ok) var error=_x;"],"Defaults":{"@host":"172.30.56.52","@port":"9009","@CR":"\n","@acc":"TCP","@exchpath":"VS_CE3"}}},
{"id":"aob-ctrl-vs_new_se3","key":"VS_NEW_SE3-get_switch_pos","value":{"TaskName":"VS_NEW_SE3-get_switch_pos","Comment":"Reads the position of valve switches. (StopIf: @stopif).","Address":45395,"FunctionCode":"ReadHoldingRegisters","Quantity":9,"Host":"@host","Action":"@acc","StopIf":"@stopif","PostScript":"vs_se3.switches","Defaults":{"@host":"e75446","@valve":1,"@acc":"MODBUS","@readadr":45407,"@switchadr":45395,"@wrtadr":40003}}},
{"id":"aob-ctrl-vs_new_se3","key":"VS_NEW_SE3-get_valve_pos","value":{"TaskName":"VS_NEW_SE3-get_valve_pos","Comment":"Reads the position of valve @valve.","Address":45407,"FunctionCode":"ReadHoldingRegisters","Quantity":9,"PreInput":{"valve":"@valve"},"PostScript":"vs_se3.valves","Host":"@host","Action":"@acc","Defaults":{"@host":"e75446","@valve":1,"@acc":"MODBUS","@readadr":45407,"@switchadr":45395,"@wrtadr":40003}}},
{"id":"aob-ctrl-vs_new_se3","key":"VS_NEW_SE3-set_valve_pos","value":{"TaskName":"VS_NEW_SE3-set_valve_pos","Comment":"Opens or closes a valve (here: @should @valve).","FunctionCode":"writeSingleRegister","FromExchange":{"@registers":"registers"},"PreInput":{"registers":"@registers","valve":"@valve","should":"@should"},"PreScript":"vs_se3.set-valve","Address":40003,"Host":"@host","Action":"@acc","Defaults":{"@host":"e75446","@valve":1,"@acc":"MODBUS","@readadr":45407,"@switchadr":45395,"@wrtadr":40003}}},
{"id":"aob-ctrl-vs_se3","key":"VS_SE3-get_switch_pos","value":{"TaskName":"VS_SE3-get_switch_pos","Comment":"Ließt die Endlagen-Einheiten aus.","Address":"@switchadr","FunctionCode":"ReadHoldingRegisters","Skip":1,"Quantity":5,"OutMode":"8Bits*","Host":"@host","Action":"@acc","StopIf":"@stopif","Script":["var wa = {'E1':45395, 'E2':45395, 'E3':45395, 'E4':45395,","'E5':45397, 'E6':45397, 'E7':45397, 'E8':45397,","'E9':45399, 'E10':45399, 'E11':45399, 'E12':45399,","'E13':45401, 'E14':45401, 'E15':45401, 'E16':45401,","'E17':45403, 'E18':45403, 'E19':45403, 'E20':45403","};","var ad = wa['@switch'];","var ret = {'Address':ad}; ret;"],"PostProcessing":["var _open = {'E1':0, 'E2':2, 'E3':4, 'E4':6, ","'E5':0, 'E6':2, 'E7':4, 'E8':6, ","'E9':4, 'E10':2, 'E11':0, 'E12':6, ","'E13':0, 'E14':2, 'E15':4, 'E16':6, ","'E17':0, 'E18':2, 'E19':4, 'E20':6, ","};","var _closed = {'E1':1, 'E2':3, 'E3':5, 'E4':7, ","'E5':1, 'E6':3, 'E7':5, 'E8':7, ","'E9':5, 'E10':3, 'E11':1, 'E12':7, ","'E13':1, 'E14':3, 'E15':5, 'E16':7, ","'E17':1, 'E18':3, 'E19':5, 'E20':7, ","};","var ToExchange = {","'@switch_open':{'Bool':_x[_open['@switch']] == 1},","'@switch_closed':{'Bool':_x[_closed['@switch']] == 1}","}"],"Defaults":{"@host":"172.30.56.46","@valve":1,"@acc":"MODBUS","@readadr":"45407","@switchadr":"45395","@wrtadr":"40003"}}},
{"id":"aob-ctrl-vs_se3","key":"VS_SE3-get_valve_pos","value":{"TaskName":"VS_SE3-get_valve_pos","Comment":"Ließt die Ventilposition aus.","Address":"@readadr","FunctionCode":"ReadHoldingRegisters","Skip":1,"Quantity":5,"Script":["var wa = {'V1':45407, 'V2':45407, 'V3':45407, 'V4':45407, ","'V5':45409,'V6':45409,'V7':45409,'V8':45409,","'V9':45411,'V10':45411,'V11':45411,'V12':45411,","'V13':45413,'V14':45413,'V15':45413,'V16':45413,","'V17':45415,'V18':45415,'V19':45415,'V20':45415};","var ad = wa['@valve'];","var ret = {'Address':ad}; ret;"],"OutMode":"8Bits*","Host":"@host","Action":"@acc","PostProcessing":["var _pos = {'V1': 0, 'V2': 2,'V3': 4,'V4': 6, ","'V5': 0 , 'V6': 2,'V7': 4,'V8': 6, ","'V9': 4 , 'V10': 2,'V11': 0,'V12': 6,","'V13': 0 , 'V14': 2,'V15': 4,'V16': 6,","'V17': 0 , 'V18': 1,'V19': 2,'V20': 3};","var _block =  {'V1': '1', 'V2': '1','V3': '1','V4': 1, ","'V5': 2, 'V6': 2,'V7': 2,'V8': 2, ","'V9': 3 , 'V10': 3,'V11': 3,'V12': 3,","'V13': 4 , 'V14': 4,'V15': 4,'V16': 4,","'V17': 5 , 'V18': 5,'V19': 5,'V20': 5};","var ToExchange = {}","ToExchange['@valve'] = {'Bool':_x[_pos['@valve']]};","ToExchange['Vraw_block' + _block['@valve']] = _x;"],"Defaults":{"@host":"172.30.56.46","@valve":1,"@acc":"MODBUS","@readadr":"45407","@switchadr":"45395","@wrtadr":"40003"}}},
{"id":"aob-ctrl-vs_se3","key":"VS_SE3-set_valve_pos","value":{"TaskName":"VS_SE3-set_valve_pos","Comment":"Setzt die Ventilposition.","FunctionCode":"writeSingleRegister","FromExchange":{"@stateblock1":"Vraw_block1","@stateblock2":"Vraw_block2","@stateblock3":"Vraw_block3","@stateblock4":"Vraw_block4","@stateblock5":"Vraw_block5"},"Script":["var valvestates = {};","if(@stateblock1) valvestates['1'] = @stateblock1;","if(@stateblock2) valvestates['2'] = @stateblock2;","if(@stateblock3) valvestates['3'] = @stateblock3;","if(@stateblock4) valvestates['4'] = @stateblock4;","if(@stateblock5) valvestates['5'] = @stateblock5;","var block =  {'V1': '1', 'V2': '1','V3': '1','V4': 1, ","'V5': 2, 'V6': 2, 'V7': 2, 'V8': 2, ","'V9': 3, 'V10': 3, 'V11': 3, 'V12': 3, ","'V13': 4, 'V14': 4, 'V15': 4, 'V16': 4, ","'V17': 5, 'V18': 5, 'V19': 5, 'V20': 5};","var vs = valvestates[block['@valve']];","var vpos = {","'V1':0, 'V2':2, 'V3':4, 'V4':6,","'V5':0, 'V6':2, 'V7':4, 'V8':6,","'V9':4, 'V10':2, 'V11':0, 'V12':6,","'V13':0, 'V14':2, 'V15':4, 'V16':6,","'V17':0, 'V18':1, 'V19':2, 'V20':3,","};","var wa = {'V1':40003, 'V2':40003, 'V3':40003, 'V4': 40003, ","'V5':40004,'V6':40004,'V7':40004,'V8':40004,","'V9':40005,'V10':40005,'V11':40005,'V12':40005,","'V13':40006,'V14':40006,'V15':40006,'V16':40006,","'V17':40007,'V18':40007,'V19':40007,'V20':40007};","var oc = {'open':1, 'close':0};","var ad = wa['@valve'];","vs[vpos['@valve']] = oc['@should'];","var ret = {'Value' : vs, 'Address':ad}; ret;"],"Address":"@wrtadr","Host":"@host","Action":"@acc","Defaults":{"@host":"172.30.56.46","@valve":1,"@acc":"MODBUS","@readadr":"45407","@switchadr":"45395","@wrtadr":"40003"}}},
{"id":"aob-ctrl-vs_se1","key":"VS-SE1-ctrl_valve","value":{"TaskName":"VS-SE1-ctrl_valve","Comment":"Öffnet/schliest Ventile","Action":"@acc","Host":"@host","LogPriority":"3","Device":"@device","Values":{"close_v1":"P1B1X@CR","open_v1":"P1A1X@CR","close_v2":"P1B2X@CR","open_v2":"P1A2X@CR","close_v3":"P1B3X@CR","open_v3":"P1A3X@CR","close_v4":"P1B4X@CR","open_v4":"P1A4X@CR","close_v5":"P1B5X@CR","open_v5":"P1A5X@CR","close_v6":"P1B6X@CR","open_v6":"P1A6X@CR"},"Defaults":{"@host":"e75465","@device":"gpib0,18","@CR":"","@acc":"VXI11","@valve":"V1"}}},
{"id":"aob-ctrl-vs_se1","key":"VS-SE1-is_ready","value":{"TaskName":"VS-SE1-is_ready","Comment":"Testet ob das Gerät ansprechbar ist","Action":"@acc","Host":"@host","Device":"@device","LogPriority":"3","Value":"*IDN?","Fallback":{"ToExchange":{"@exchpath":false}},"PostProcessing":["var _ok = _x.substr(0,5) == '00000',","ToExchange={'@exchpath':_ok};"],"Defaults":{"@host":"e75465","@device":"gpib0,18","@CR":"","@acc":"VXI11","@valve":"V1"}}},
{"id":"aob-ctrl-vs_se1","key":"VS-SE1-status_closed","value":{"TaskName":"VS-SE1-status_closed","Comment":"liefert Antwort auf: Ventil @valve geschlossen?","LogPriority":1,"Action":"@acc","Host":"@host","NoLog":true,"Device":"@device","StopIf":"Valve_@valve_closed.Bool","Value":"P0X@CR","PostProcessing":["var _state =  _.se1ValveStatus(_x,'@valve'),","ToExchange = {'Valve_@valve_closed.Bool':_state.Valve_closed,'Valve_@valve_opened.Bool':_state.Valve_opened};"],"Defaults":{"@host":"e75465","@device":"gpib0,18","@CR":"","@acc":"VXI11","@valve":"V1"}}},
{"id":"aob-ctrl-vs_se1","key":"VS-SE1-status_opened","value":{"TaskName":"VS-SE1-status_opened","Comment":"liefert Antwort auf: Ventil @valve geöffnet?","LogPriority":1,"Action":"@acc","Host":"@host","NoLog":true,"Device":"@device","StopIf":"Valve_@valve_opened.Bool","Value":"P0X@CR","PostProcessing":["var _state =  _.se1ValveStatus(_x,'@valve'),","ToExchange = {'Valve_@valve_closed.Bool':_state.Valve_closed,'Valve_@valve_opened.Bool':_state.Valve_opened};"],"Defaults":{"@host":"e75465","@device":"gpib0,18","@CR":"","@acc":"VXI11","@valve":"V1"}}},
{"id":"aob-ctrl-vs_se1","key":"VS-SE1-valves_init","value":{"TaskName":"VS-SE1-valves_init","Comment":"initialisiert SE1-Ventilsteuerung","LogPriority":"3","Action":"@acc","Host":"@host","Device":"@device","Value":"C1P0F0R0I0X@CR","Defaults":{"@host":"e75465","@device":"gpib0,18","@CR":"","@acc":"VXI11","@valve":"V1"}}}
]}
